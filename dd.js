(function() {
    window.SLConfig = {
        "active": true,
        "disabled": false,
        "test_mode": false,
        "scan_forms": true,
        "app_url": "https://dash.sparkloop.app",
        "script_url": "https://js.sparkloop.app",
        "upscribe_page_hostname": "upscribe.page",
        "uuid": "team_a4cad48ab465",
        "plan": "lite_v3",
        "provider": "beehiiv",
        "form_selector": "form",
        "campaigns": false,
        "widgets": {
            "referral_hubs": [],
            "upscribes": [{
                "enabled": true,
                "uuid": "upscribe_f4f79cf92d09",
                "selector": "form",
                "recommendations": [{
                    "uuid": "partner_campaign_e633ecf29861",
                    "type": "paid",
                    "status": "active",
                    "ref_code": "ba35ad3194",
                    "publication_name": "Prequel ",
                    "publication_logo": "https://dash.sparkloop.app/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBZzVJIiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--5d0e5ac92e9163f5b62b8ef55cc28ea82f68ffad/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWl3QmFRSXNBUT09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--e6d5cf3f19637591e5d24ecaf7d1b67e81e3fae6/Initial.Inverted.png",
                    "description": "The newsletter for parents who want their kids to succeed. Join 25k parents and get insights on how your children can get ahead in school and life.",
                    "pinned": false,
                    "position": null
                }, {
                    "uuid": "partner_campaign_d20c52eea373",
                    "type": "paid",
                    "status": "active",
                    "ref_code": "afc5129829",
                    "publication_name": "Tip News",
                    "publication_logo": "https://dash.sparkloop.app/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBakV6IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--0af2917769379261e4925e2f855fff654fc914bb/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWl3QmFRSXNBUT09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--e6d5cf3f19637591e5d24ecaf7d1b67e81e3fae6/TipNews-Icon-SOLID-CYAN_500px.jpg",
                    "description": "Tip News is an objective, agenda-free daily newsletter that keeps you informed without sacrificing your wellbeing.",
                    "pinned": false,
                    "position": null
                }, {
                    "uuid": "partner_campaign_d7827ea2f017",
                    "type": "paid",
                    "status": "active",
                    "ref_code": "faf6b14e9a",
                    "publication_name": "Talent Edge Weekly",
                    "publication_logo": "https://dash.sparkloop.app/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBdmRUIiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--76f7e4cb1843c31cc611b5e85a8ce306a4fdb37c/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWl3QmFRSXNBUT09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--e6d5cf3f19637591e5d24ecaf7d1b67e81e3fae6/800x800-rev1-02.jpg",
                    "description": "The best curated insights about work, the workplace, and workforce. Read by business and HR professionals and others interested in the world of work.",
                    "pinned": false,
                    "position": null
                }, {
                    "uuid": "partner_campaign_5e7360641759",
                    "type": "paid",
                    "status": "active",
                    "ref_code": "51c7bf644c",
                    "publication_name": "Bitcoin Breakdown",
                    "publication_logo": "https://dash.sparkloop.app/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBaDVUIiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--66b1a04c7cf8a67a922ea374065d2890a53645df/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWl3QmFRSXNBUT09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--e6d5cf3f19637591e5d24ecaf7d1b67e81e3fae6/BB%20logo%20orange.png",
                    "description": "Bitcoin-focused newsletter with the highest signal-to-noise ratio in the space, carefully curated by an alien from the future.",
                    "pinned": false,
                    "position": null
                }, {
                    "uuid": "partner_campaign_fa0d4c06da82",
                    "type": "paid",
                    "status": "active",
                    "ref_code": "c060fd55d3",
                    "publication_name": "Bay Area Times",
                    "publication_logo": "https://dash.sparkloop.app/rails/active_storage/representations/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBBa05QIiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--a297a2dfa91a3c6ae1582de3322560655b31c4d5/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCam9VY21WemFYcGxYM1J2WDJ4cGJXbDBXd2RwQWl3QmFRSXNBUT09IiwiZXhwIjpudWxsLCJwdXIiOiJ2YXJpYXRpb24ifX0=--e6d5cf3f19637591e5d24ecaf7d1b67e81e3fae6/tmlblu81ay_Bay%20Area%20Times%20-%20square%20200.png",
                    "description": "ðŸ—žï¸ The visual daily newsletter on business and tech.\r\nðŸ“ˆ Analyzing the news with 1 visual per story.\r\nJoin our 60,000+ subscribers.",
                    "pinned": false,
                    "position": null
                }],
                "recs_insights": {
                    "stats": [5, 5, 0, 0, 5, 0],
                    "unfilled_reasons": [0, 0, 0, 0]
                },
                "header": "You're subscribed!",
                "subheader": "If you love newsletters, here are a few of our favs:",
                "button_label": "I'm in!",
                "skip_link": "I don't want to level up",
                "after_submission": {
                    "redirect": true,
                    "redirect_url": "https://thedeepview.ai/thank-you",
                    "thank_you_message": "Thank you for subscribing!"
                },
                "visibility": {
                    "installation": "widget",
                    "all_pages": true,
                    "rules": []
                },
                "styling": {
                    "colors": {
                        "primary": "#0024d6"
                    },
                    "custom_css": "/* Upscribe main container */\n#sparkloop-upscribe {}\n\n/* Header */\n#sparkloop-upscribe form \u003e header {}\n  #sparkloop-upscribe form \u003e header h2 {}\n\n/* Recommendations */\n#sparkloop-upscribe form \u003e ul {}\n#sparkloop-upscribe form \u003e ul li {}\n\n  /* Recommendation's image */\n  #sparkloop-upscribe form \u003e ul li label main \u003e figure {}\n\n  /* Recommendation's copy */\n  #sparkloop-upscribe form \u003e ul li label main \u003e div h3 {}\n  #sparkloop-upscribe form \u003e ul li label main \u003e div p {}\n\n/* Footer */\n#sparkloop-upscribe form \u003e footer {}\n  /* Button */\n  #sparkloop-upscribe form \u003e footer .sl-button {}\n  /* \"Maybe later\" link */\n  #sparkloop-upscribe form \u003e footer \u003e a.sl-skip-link {}\n",
                    "powered_by_enabled": true
                }
            }],
            "upscribe_ref": "sparkloop-upscribe"
        }
    };
    (()=>{
        var Hi = Object.create;
        var Ot = Object.defineProperty;
        var Wi = Object.getOwnPropertyDescriptor;
        var ji = Object.getOwnPropertyNames;
        var Ki = Object.getPrototypeOf
          , zi = Object.prototype.hasOwnProperty;
        var Mt = (t,e)=>()=>(e || t((e = {
            exports: {}
        }).exports, e),
        e.exports);
        var qi = (t,e,r,n)=>{
            if (e && typeof e == "object" || typeof e == "function")
                for (let a of ji(e))
                    !zi.call(t, a) && a !== r && Ot(t, a, {
                        get: ()=>e[a],
                        enumerable: !(n = Wi(e, a)) || n.enumerable
                    });
            return t
        }
        ;
        var Dt = (t,e,r)=>(r = t != null ? Hi(Ki(t)) : {},
        qi(e || !t || !t.__esModule ? Ot(r, "default", {
            value: t,
            enumerable: !0
        }) : r, t));
        var nr = Mt((ir,Ye)=>{
            (function(t, e, r) {
                "use strict";
                typeof window < "u" && typeof define == "function" && define.amd ? define(r) : typeof Ye < "u" && Ye.exports ? Ye.exports = r() : e.exports ? e.exports = r() : e[t] = r()
            }
            )("Fingerprint2", ir, function() {
                "use strict";
                typeof Array.isArray > "u" && (Array.isArray = function(i) {
                    return Object.prototype.toString.call(i) === "[object Array]"
                }
                );
                var t = function(i, o) {
                    i = [i[0] >>> 16, i[0] & 65535, i[1] >>> 16, i[1] & 65535],
                    o = [o[0] >>> 16, o[0] & 65535, o[1] >>> 16, o[1] & 65535];
                    var s = [0, 0, 0, 0];
                    return s[3] += i[3] + o[3],
                    s[2] += s[3] >>> 16,
                    s[3] &= 65535,
                    s[2] += i[2] + o[2],
                    s[1] += s[2] >>> 16,
                    s[2] &= 65535,
                    s[1] += i[1] + o[1],
                    s[0] += s[1] >>> 16,
                    s[1] &= 65535,
                    s[0] += i[0] + o[0],
                    s[0] &= 65535,
                    [s[0] << 16 | s[1], s[2] << 16 | s[3]]
                }
                  , e = function(i, o) {
                    i = [i[0] >>> 16, i[0] & 65535, i[1] >>> 16, i[1] & 65535],
                    o = [o[0] >>> 16, o[0] & 65535, o[1] >>> 16, o[1] & 65535];
                    var s = [0, 0, 0, 0];
                    return s[3] += i[3] * o[3],
                    s[2] += s[3] >>> 16,
                    s[3] &= 65535,
                    s[2] += i[2] * o[3],
                    s[1] += s[2] >>> 16,
                    s[2] &= 65535,
                    s[2] += i[3] * o[2],
                    s[1] += s[2] >>> 16,
                    s[2] &= 65535,
                    s[1] += i[1] * o[3],
                    s[0] += s[1] >>> 16,
                    s[1] &= 65535,
                    s[1] += i[2] * o[2],
                    s[0] += s[1] >>> 16,
                    s[1] &= 65535,
                    s[1] += i[3] * o[1],
                    s[0] += s[1] >>> 16,
                    s[1] &= 65535,
                    s[0] += i[0] * o[3] + i[1] * o[2] + i[2] * o[1] + i[3] * o[0],
                    s[0] &= 65535,
                    [s[0] << 16 | s[1], s[2] << 16 | s[3]]
                }
                  , r = function(i, o) {
                    return o %= 64,
                    o === 32 ? [i[1], i[0]] : o < 32 ? [i[0] << o | i[1] >>> 32 - o, i[1] << o | i[0] >>> 32 - o] : (o -= 32,
                    [i[1] << o | i[0] >>> 32 - o, i[0] << o | i[1] >>> 32 - o])
                }
                  , n = function(i, o) {
                    return o %= 64,
                    o === 0 ? i : o < 32 ? [i[0] << o | i[1] >>> 32 - o, i[1] << o] : [i[1] << o - 32, 0]
                }
                  , a = function(i, o) {
                    return [i[0] ^ o[0], i[1] ^ o[1]]
                }
                  , c = function(i) {
                    return i = a(i, [0, i[0] >>> 1]),
                    i = e(i, [4283543511, 3981806797]),
                    i = a(i, [0, i[0] >>> 1]),
                    i = e(i, [3301882366, 444984403]),
                    i = a(i, [0, i[0] >>> 1]),
                    i
                }
                  , u = function(i, o) {
                    i = i || "",
                    o = o || 0;
                    for (var s = i.length % 16, l = i.length - s, p = [0, o], m = [0, o], h = [0, 0], b = [0, 0], C = [2277735313, 289559509], I = [1291169091, 658871167], v = 0; v < l; v = v + 16)
                        h = [i.charCodeAt(v + 4) & 255 | (i.charCodeAt(v + 5) & 255) << 8 | (i.charCodeAt(v + 6) & 255) << 16 | (i.charCodeAt(v + 7) & 255) << 24, i.charCodeAt(v) & 255 | (i.charCodeAt(v + 1) & 255) << 8 | (i.charCodeAt(v + 2) & 255) << 16 | (i.charCodeAt(v + 3) & 255) << 24],
                        b = [i.charCodeAt(v + 12) & 255 | (i.charCodeAt(v + 13) & 255) << 8 | (i.charCodeAt(v + 14) & 255) << 16 | (i.charCodeAt(v + 15) & 255) << 24, i.charCodeAt(v + 8) & 255 | (i.charCodeAt(v + 9) & 255) << 8 | (i.charCodeAt(v + 10) & 255) << 16 | (i.charCodeAt(v + 11) & 255) << 24],
                        h = e(h, C),
                        h = r(h, 31),
                        h = e(h, I),
                        p = a(p, h),
                        p = r(p, 27),
                        p = t(p, m),
                        p = t(e(p, [0, 5]), [0, 1390208809]),
                        b = e(b, I),
                        b = r(b, 33),
                        b = e(b, C),
                        m = a(m, b),
                        m = r(m, 31),
                        m = t(m, p),
                        m = t(e(m, [0, 5]), [0, 944331445]);
                    switch (h = [0, 0],
                    b = [0, 0],
                    s) {
                    case 15:
                        b = a(b, n([0, i.charCodeAt(v + 14)], 48));
                    case 14:
                        b = a(b, n([0, i.charCodeAt(v + 13)], 40));
                    case 13:
                        b = a(b, n([0, i.charCodeAt(v + 12)], 32));
                    case 12:
                        b = a(b, n([0, i.charCodeAt(v + 11)], 24));
                    case 11:
                        b = a(b, n([0, i.charCodeAt(v + 10)], 16));
                    case 10:
                        b = a(b, n([0, i.charCodeAt(v + 9)], 8));
                    case 9:
                        b = a(b, [0, i.charCodeAt(v + 8)]),
                        b = e(b, I),
                        b = r(b, 33),
                        b = e(b, C),
                        m = a(m, b);
                    case 8:
                        h = a(h, n([0, i.charCodeAt(v + 7)], 56));
                    case 7:
                        h = a(h, n([0, i.charCodeAt(v + 6)], 48));
                    case 6:
                        h = a(h, n([0, i.charCodeAt(v + 5)], 40));
                    case 5:
                        h = a(h, n([0, i.charCodeAt(v + 4)], 32));
                    case 4:
                        h = a(h, n([0, i.charCodeAt(v + 3)], 24));
                    case 3:
                        h = a(h, n([0, i.charCodeAt(v + 2)], 16));
                    case 2:
                        h = a(h, n([0, i.charCodeAt(v + 1)], 8));
                    case 1:
                        h = a(h, [0, i.charCodeAt(v)]),
                        h = e(h, C),
                        h = r(h, 31),
                        h = e(h, I),
                        p = a(p, h)
                    }
                    return p = a(p, [0, i.length]),
                    m = a(m, [0, i.length]),
                    p = t(p, m),
                    m = t(m, p),
                    p = c(p),
                    m = c(m),
                    p = t(p, m),
                    m = t(m, p),
                    ("00000000" + (p[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (p[1] >>> 0).toString(16)).slice(-8) + ("00000000" + (m[0] >>> 0).toString(16)).slice(-8) + ("00000000" + (m[1] >>> 0).toString(16)).slice(-8)
                }
                  , d = {
                    preprocessor: null,
                    audio: {
                        timeout: 1e3,
                        excludeIOS11: !0
                    },
                    fonts: {
                        swfContainerId: "fingerprintjs2",
                        swfPath: "flash/compiled/FontList.swf",
                        userDefinedFonts: [],
                        extendedJsFonts: !1
                    },
                    screen: {
                        detectScreenOrientation: !0
                    },
                    plugins: {
                        sortPluginsFor: [/palemoon/i],
                        excludeIE: !1
                    },
                    extraComponents: [],
                    excludes: {
                        enumerateDevices: !0,
                        pixelRatio: !0,
                        doNotTrack: !0,
                        fontsFlash: !0,
                        adBlock: !0
                    },
                    NOT_AVAILABLE: "not available",
                    ERROR: "error",
                    EXCLUDED: "excluded"
                }
                  , f = function(i, o) {
                    if (Array.prototype.forEach && i.forEach === Array.prototype.forEach)
                        i.forEach(o);
                    else if (i.length === +i.length)
                        for (var s = 0, l = i.length; s < l; s++)
                            o(i[s], s, i);
                    else
                        for (var p in i)
                            i.hasOwnProperty(p) && o(i[p], p, i)
                }
                  , y = function(i, o) {
                    var s = [];
                    return i == null ? s : Array.prototype.map && i.map === Array.prototype.map ? i.map(o) : (f(i, function(l, p, m) {
                        s.push(o(l, p, m))
                    }),
                    s)
                }
                  , S = function(i, o) {
                    if (o == null)
                        return i;
                    var s, l;
                    for (l in o)
                        s = o[l],
                        s != null && !Object.prototype.hasOwnProperty.call(i, l) && (i[l] = s);
                    return i
                }
                  , A = function(i, o) {
                    if (!k())
                        return i(o.NOT_AVAILABLE);
                    navigator.mediaDevices.enumerateDevices().then(function(s) {
                        i(s.map(function(l) {
                            return "id=" + l.deviceId + ";gid=" + l.groupId + ";" + l.kind + ";" + l.label
                        }))
                    }).catch(function(s) {
                        i(s)
                    })
                }
                  , k = function() {
                    return navigator.mediaDevices && navigator.mediaDevices.enumerateDevices
                }
                  , D = function(i, o) {
                    var s = o.audio;
                    if (s.excludeIOS11 && navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))
                        return i(o.EXCLUDED);
                    var l = window.OfflineAudioContext || window.webkitOfflineAudioContext;
                    if (l == null)
                        return i(o.NOT_AVAILABLE);
                    var p = new l(1,44100,44100)
                      , m = p.createOscillator();
                    m.type = "triangle",
                    m.frequency.setValueAtTime(1e4, p.currentTime);
                    var h = p.createDynamicsCompressor();
                    f([["threshold", -50], ["knee", 40], ["ratio", 12], ["reduction", -20], ["attack", 0], ["release", .25]], function(C) {
                        h[C[0]] !== void 0 && typeof h[C[0]].setValueAtTime == "function" && h[C[0]].setValueAtTime(C[1], p.currentTime)
                    }),
                    m.connect(h),
                    h.connect(p.destination),
                    m.start(0),
                    p.startRendering();
                    var b = setTimeout(function() {
                        return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/fingerprintjs/fingerprintjs with your user agent: "' + navigator.userAgent + '".'),
                        p.oncomplete = function() {}
                        ,
                        p = null,
                        i("audioTimeout")
                    }, s.timeout);
                    p.oncomplete = function(C) {
                        var I;
                        try {
                            clearTimeout(b),
                            I = C.renderedBuffer.getChannelData(0).slice(4500, 5e3).reduce(function(v, ne) {
                                return v + Math.abs(ne)
                            }, 0).toString(),
                            m.disconnect(),
                            h.disconnect()
                        } catch (v) {
                            i(v);
                            return
                        }
                        i(I)
                    }
                }
                  , w = function(i) {
                    i(navigator.userAgent)
                }
                  , L = function(i, o) {
                    i(navigator.webdriver == null ? o.NOT_AVAILABLE : navigator.webdriver)
                }
                  , U = function(i, o) {
                    i(navigator.language || navigator.userLanguage || navigator.browserLanguage || navigator.systemLanguage || o.NOT_AVAILABLE)
                }
                  , z = function(i, o) {
                    i(window.screen.colorDepth || o.NOT_AVAILABLE)
                }
                  , ge = function(i, o) {
                    i(navigator.deviceMemory || o.NOT_AVAILABLE)
                }
                  , W = function(i, o) {
                    i(window.devicePixelRatio || o.NOT_AVAILABLE)
                }
                  , Ne = function(i, o) {
                    i(At(o))
                }
                  , At = function(i) {
                    var o = [window.screen.width, window.screen.height];
                    return i.screen.detectScreenOrientation && o.sort().reverse(),
                    o
                }
                  , at = function(i, o) {
                    i(Wr(o))
                }
                  , Wr = function(i) {
                    if (window.screen.availWidth && window.screen.availHeight) {
                        var o = [window.screen.availHeight, window.screen.availWidth];
                        return i.screen.detectScreenOrientation && o.sort().reverse(),
                        o
                    }
                    return i.NOT_AVAILABLE
                }
                  , jr = function(i) {
                    i(new Date().getTimezoneOffset())
                }
                  , Kr = function(i, o) {
                    if (window.Intl && window.Intl.DateTimeFormat) {
                        i(new window.Intl.DateTimeFormat().resolvedOptions().timeZone || o.NOT_AVAILABLE);
                        return
                    }
                    i(o.NOT_AVAILABLE)
                }
                  , zr = function(i, o) {
                    i(hi(o))
                }
                  , qr = function(i, o) {
                    i(bi(o))
                }
                  , Xr = function(i, o) {
                    i(vi(o))
                }
                  , Yr = function(i) {
                    i(!!window.HTMLElement.prototype.addBehavior)
                }
                  , Zr = function(i) {
                    i(!!window.openDatabase)
                }
                  , Jr = function(i, o) {
                    i(wi(o))
                }
                  , Qr = function(i, o) {
                    i(Si(o))
                }
                  , ei = function(i, o) {
                    i(_i(o))
                }
                  , ti = function(i, o) {
                    if (Lt()) {
                        i(Ci(o));
                        return
                    }
                    i(o.NOT_AVAILABLE)
                }
                  , ri = function(i, o) {
                    if (Pt()) {
                        i(xi());
                        return
                    }
                    i(o.NOT_AVAILABLE)
                }
                  , ii = function(i) {
                    if (Pt()) {
                        i(Ti());
                        return
                    }
                    i()
                }
                  , ni = function(i) {
                    i(Ai())
                }
                  , ai = function(i) {
                    i(ki())
                }
                  , oi = function(i) {
                    i(Li())
                }
                  , si = function(i) {
                    i(Pi())
                }
                  , li = function(i) {
                    i(Bi())
                }
                  , ci = function(i, o) {
                    if (!Mi())
                        return i("swf object not loaded");
                    if (!Di())
                        return i("flash not installed");
                    if (!o.fonts.swfPath)
                        return i("missing options.fonts.swfPath");
                    Ui(function(s) {
                        i(s)
                    }, o)
                }
                  , ui = function(i, o) {
                    var s = ["monospace", "sans-serif", "serif"]
                      , l = ["Andale Mono", "Arial", "Arial Black", "Arial Hebrew", "Arial MT", "Arial Narrow", "Arial Rounded MT Bold", "Arial Unicode MS", "Bitstream Vera Sans Mono", "Book Antiqua", "Bookman Old Style", "Calibri", "Cambria", "Cambria Math", "Century", "Century Gothic", "Century Schoolbook", "Comic Sans", "Comic Sans MS", "Consolas", "Courier", "Courier New", "Geneva", "Georgia", "Helvetica", "Helvetica Neue", "Impact", "Lucida Bright", "Lucida Calligraphy", "Lucida Console", "Lucida Fax", "LUCIDA GRANDE", "Lucida Handwriting", "Lucida Sans", "Lucida Sans Typewriter", "Lucida Sans Unicode", "Microsoft Sans Serif", "Monaco", "Monotype Corsiva", "MS Gothic", "MS Outlook", "MS PGothic", "MS Reference Sans Serif", "MS Sans Serif", "MS Serif", "MYRIAD", "MYRIAD PRO", "Palatino", "Palatino Linotype", "Segoe Print", "Segoe Script", "Segoe UI", "Segoe UI Light", "Segoe UI Semibold", "Segoe UI Symbol", "Tahoma", "Times", "Times New Roman", "Times New Roman PS", "Trebuchet MS", "Verdana", "Wingdings", "Wingdings 2", "Wingdings 3"];
                    if (o.fonts.extendedJsFonts) {
                        var p = ["Abadi MT Condensed Light", "Academy Engraved LET", "ADOBE CASLON PRO", "Adobe Garamond", "ADOBE GARAMOND PRO", "Agency FB", "Aharoni", "Albertus Extra Bold", "Albertus Medium", "Algerian", "Amazone BT", "American Typewriter", "American Typewriter Condensed", "AmerType Md BT", "Andalus", "Angsana New", "AngsanaUPC", "Antique Olive", "Aparajita", "Apple Chancery", "Apple Color Emoji", "Apple SD Gothic Neo", "Arabic Typesetting", "ARCHER", "ARNO PRO", "Arrus BT", "Aurora Cn BT", "AvantGarde Bk BT", "AvantGarde Md BT", "AVENIR", "Ayuthaya", "Bandy", "Bangla Sangam MN", "Bank Gothic", "BankGothic Md BT", "Baskerville", "Baskerville Old Face", "Batang", "BatangChe", "Bauer Bodoni", "Bauhaus 93", "Bazooka", "Bell MT", "Bembo", "Benguiat Bk BT", "Berlin Sans FB", "Berlin Sans FB Demi", "Bernard MT Condensed", "BernhardFashion BT", "BernhardMod BT", "Big Caslon", "BinnerD", "Blackadder ITC", "BlairMdITC TT", "Bodoni 72", "Bodoni 72 Oldstyle", "Bodoni 72 Smallcaps", "Bodoni MT", "Bodoni MT Black", "Bodoni MT Condensed", "Bodoni MT Poster Compressed", "Bookshelf Symbol 7", "Boulder", "Bradley Hand", "Bradley Hand ITC", "Bremen Bd BT", "Britannic Bold", "Broadway", "Browallia New", "BrowalliaUPC", "Brush Script MT", "Californian FB", "Calisto MT", "Calligrapher", "Candara", "CaslonOpnface BT", "Castellar", "Centaur", "Cezanne", "CG Omega", "CG Times", "Chalkboard", "Chalkboard SE", "Chalkduster", "Charlesworth", "Charter Bd BT", "Charter BT", "Chaucer", "ChelthmITC Bk BT", "Chiller", "Clarendon", "Clarendon Condensed", "CloisterBlack BT", "Cochin", "Colonna MT", "Constantia", "Cooper Black", "Copperplate", "Copperplate Gothic", "Copperplate Gothic Bold", "Copperplate Gothic Light", "CopperplGoth Bd BT", "Corbel", "Cordia New", "CordiaUPC", "Cornerstone", "Coronet", "Cuckoo", "Curlz MT", "DaunPenh", "Dauphin", "David", "DB LCD Temp", "DELICIOUS", "Denmark", "DFKai-SB", "Didot", "DilleniaUPC", "DIN", "DokChampa", "Dotum", "DotumChe", "Ebrima", "Edwardian Script ITC", "Elephant", "English 111 Vivace BT", "Engravers MT", "EngraversGothic BT", "Eras Bold ITC", "Eras Demi ITC", "Eras Light ITC", "Eras Medium ITC", "EucrosiaUPC", "Euphemia", "Euphemia UCAS", "EUROSTILE", "Exotc350 Bd BT", "FangSong", "Felix Titling", "Fixedsys", "FONTIN", "Footlight MT Light", "Forte", "FrankRuehl", "Fransiscan", "Freefrm721 Blk BT", "FreesiaUPC", "Freestyle Script", "French Script MT", "FrnkGothITC Bk BT", "Fruitger", "FRUTIGER", "Futura", "Futura Bk BT", "Futura Lt BT", "Futura Md BT", "Futura ZBlk BT", "FuturaBlack BT", "Gabriola", "Galliard BT", "Gautami", "Geeza Pro", "Geometr231 BT", "Geometr231 Hv BT", "Geometr231 Lt BT", "GeoSlab 703 Lt BT", "GeoSlab 703 XBd BT", "Gigi", "Gill Sans", "Gill Sans MT", "Gill Sans MT Condensed", "Gill Sans MT Ext Condensed Bold", "Gill Sans Ultra Bold", "Gill Sans Ultra Bold Condensed", "Gisha", "Gloucester MT Extra Condensed", "GOTHAM", "GOTHAM BOLD", "Goudy Old Style", "Goudy Stout", "GoudyHandtooled BT", "GoudyOLSt BT", "Gujarati Sangam MN", "Gulim", "GulimChe", "Gungsuh", "GungsuhChe", "Gurmukhi MN", "Haettenschweiler", "Harlow Solid Italic", "Harrington", "Heather", "Heiti SC", "Heiti TC", "HELV", "Herald", "High Tower Text", "Hiragino Kaku Gothic ProN", "Hiragino Mincho ProN", "Hoefler Text", "Humanst 521 Cn BT", "Humanst521 BT", "Humanst521 Lt BT", "Imprint MT Shadow", "Incised901 Bd BT", "Incised901 BT", "Incised901 Lt BT", "INCONSOLATA", "Informal Roman", "Informal011 BT", "INTERSTATE", "IrisUPC", "Iskoola Pota", "JasmineUPC", "Jazz LET", "Jenson", "Jester", "Jokerman", "Juice ITC", "Kabel Bk BT", "Kabel Ult BT", "Kailasa", "KaiTi", "Kalinga", "Kannada Sangam MN", "Kartika", "Kaufmann Bd BT", "Kaufmann BT", "Khmer UI", "KodchiangUPC", "Kokila", "Korinna BT", "Kristen ITC", "Krungthep", "Kunstler Script", "Lao UI", "Latha", "Leelawadee", "Letter Gothic", "Levenim MT", "LilyUPC", "Lithograph", "Lithograph Light", "Long Island", "Lydian BT", "Magneto", "Maiandra GD", "Malayalam Sangam MN", "Malgun Gothic", "Mangal", "Marigold", "Marion", "Marker Felt", "Market", "Marlett", "Matisse ITC", "Matura MT Script Capitals", "Meiryo", "Meiryo UI", "Microsoft Himalaya", "Microsoft JhengHei", "Microsoft New Tai Lue", "Microsoft PhagsPa", "Microsoft Tai Le", "Microsoft Uighur", "Microsoft YaHei", "Microsoft Yi Baiti", "MingLiU", "MingLiU_HKSCS", "MingLiU_HKSCS-ExtB", "MingLiU-ExtB", "Minion", "Minion Pro", "Miriam", "Miriam Fixed", "Mistral", "Modern", "Modern No. 20", "Mona Lisa Solid ITC TT", "Mongolian Baiti", "MONO", "MoolBoran", "Mrs Eaves", "MS LineDraw", "MS Mincho", "MS PMincho", "MS Reference Specialty", "MS UI Gothic", "MT Extra", "MUSEO", "MV Boli", "Nadeem", "Narkisim", "NEVIS", "News Gothic", "News GothicMT", "NewsGoth BT", "Niagara Engraved", "Niagara Solid", "Noteworthy", "NSimSun", "Nyala", "OCR A Extended", "Old Century", "Old English Text MT", "Onyx", "Onyx BT", "OPTIMA", "Oriya Sangam MN", "OSAKA", "OzHandicraft BT", "Palace Script MT", "Papyrus", "Parchment", "Party LET", "Pegasus", "Perpetua", "Perpetua Titling MT", "PetitaBold", "Pickwick", "Plantagenet Cherokee", "Playbill", "PMingLiU", "PMingLiU-ExtB", "Poor Richard", "Poster", "PosterBodoni BT", "PRINCETOWN LET", "Pristina", "PTBarnum BT", "Pythagoras", "Raavi", "Rage Italic", "Ravie", "Ribbon131 Bd BT", "Rockwell", "Rockwell Condensed", "Rockwell Extra Bold", "Rod", "Roman", "Sakkal Majalla", "Santa Fe LET", "Savoye LET", "Sceptre", "Script", "Script MT Bold", "SCRIPTINA", "Serifa", "Serifa BT", "Serifa Th BT", "ShelleyVolante BT", "Sherwood", "Shonar Bangla", "Showcard Gothic", "Shruti", "Signboard", "SILKSCREEN", "SimHei", "Simplified Arabic", "Simplified Arabic Fixed", "SimSun", "SimSun-ExtB", "Sinhala Sangam MN", "Sketch Rockwell", "Skia", "Small Fonts", "Snap ITC", "Snell Roundhand", "Socket", "Souvenir Lt BT", "Staccato222 BT", "Steamer", "Stencil", "Storybook", "Styllo", "Subway", "Swis721 BlkEx BT", "Swiss911 XCm BT", "Sylfaen", "Synchro LET", "System", "Tamil Sangam MN", "Technical", "Teletype", "Telugu Sangam MN", "Tempus Sans ITC", "Terminal", "Thonburi", "Traditional Arabic", "Trajan", "TRAJAN PRO", "Tristan", "Tubular", "Tunga", "Tw Cen MT", "Tw Cen MT Condensed", "Tw Cen MT Condensed Extra Bold", "TypoUpright BT", "Unicorn", "Univers", "Univers CE 55 Medium", "Univers Condensed", "Utsaah", "Vagabond", "Vani", "Vijaya", "Viner Hand ITC", "VisualUI", "Vivaldi", "Vladimir Script", "Vrinda", "Westminster", "WHITNEY", "Wide Latin", "ZapfEllipt BT", "ZapfHumnst BT", "ZapfHumnst Dm BT", "Zapfino", "Zurich BlkEx BT", "Zurich Ex BT", "ZWAdobeF"];
                        l = l.concat(p)
                    }
                    l = l.concat(o.fonts.userDefinedFonts),
                    l = l.filter(function(_, M) {
                        return l.indexOf(_) === M
                    });
                    var m = "mmmmmmmmmmlli"
                      , h = "72px"
                      , b = document.getElementsByTagName("body")[0]
                      , C = document.createElement("div")
                      , I = document.createElement("div")
                      , v = {}
                      , ne = {}
                      , F = function() {
                        var _ = document.createElement("span");
                        return _.style.position = "absolute",
                        _.style.left = "-9999px",
                        _.style.fontSize = h,
                        _.style.fontStyle = "normal",
                        _.style.fontWeight = "normal",
                        _.style.letterSpacing = "normal",
                        _.style.lineBreak = "auto",
                        _.style.lineHeight = "normal",
                        _.style.textTransform = "none",
                        _.style.textAlign = "left",
                        _.style.textDecoration = "none",
                        _.style.textShadow = "none",
                        _.style.whiteSpace = "normal",
                        _.style.wordBreak = "normal",
                        _.style.wordSpacing = "normal",
                        _.innerHTML = m,
                        _
                    }
                      , le = function(_, M) {
                        var $ = F();
                        return $.style.fontFamily = "'" + _ + "'," + M,
                        $
                    }
                      , ae = function() {
                        for (var _ = [], M = 0, $ = s.length; M < $; M++) {
                            var be = F();
                            be.style.fontFamily = s[M],
                            C.appendChild(be),
                            _.push(be)
                        }
                        return _
                    }
                      , ce = function() {
                        for (var _ = {}, M = 0, $ = l.length; M < $; M++) {
                            for (var be = [], lt = 0, Vi = s.length; lt < Vi; lt++) {
                                var It = le(l[M], s[lt]);
                                I.appendChild(It),
                                be.push(It)
                            }
                            _[l[M]] = be
                        }
                        return _
                    }
                      , st = function(_) {
                        for (var M = !1, $ = 0; $ < s.length; $++)
                            if (M = _[$].offsetWidth !== v[s[$]] || _[$].offsetHeight !== ne[s[$]],
                            M)
                                return M;
                        return M
                    }
                      , $e = ae();
                    b.appendChild(C);
                    for (var he = 0, Ni = s.length; he < Ni; he++)
                        v[s[he]] = $e[he].offsetWidth,
                        ne[s[he]] = $e[he].offsetHeight;
                    var Gi = ce();
                    b.appendChild(I);
                    for (var Bt = [], Ve = 0, $i = l.length; Ve < $i; Ve++)
                        st(Gi[l[Ve]]) && Bt.push(l[Ve]);
                    b.removeChild(I),
                    b.removeChild(C),
                    i(Bt)
                }
                  , di = function(i, o) {
                    Ii() ? o.plugins.excludeIE ? i(o.EXCLUDED) : i(fi(o)) : i(kt(o))
                }
                  , kt = function(i) {
                    if (navigator.plugins == null)
                        return i.NOT_AVAILABLE;
                    for (var o = [], s = 0, l = navigator.plugins.length; s < l; s++)
                        navigator.plugins[s] && o.push(navigator.plugins[s]);
                    return pi(i) && (o = o.sort(function(p, m) {
                        return p.name > m.name ? 1 : p.name < m.name ? -1 : 0
                    })),
                    y(o, function(p) {
                        var m = y(p, function(h) {
                            return [h.type, h.suffixes]
                        });
                        return [p.name, p.description, m]
                    })
                }
                  , fi = function(i) {
                    var o = [];
                    if (Object.getOwnPropertyDescriptor && Object.getOwnPropertyDescriptor(window, "ActiveXObject") || "ActiveXObject"in window) {
                        var s = ["AcroPDF.PDF", "Adodb.Stream", "AgControl.AgControl", "DevalVRXCtrl.DevalVRXCtrl.1", "MacromediaFlashPaper.MacromediaFlashPaper", "Msxml2.DOMDocument", "Msxml2.XMLHTTP", "PDF.PdfCtrl", "QuickTime.QuickTime", "QuickTimeCheckObject.QuickTimeCheck.1", "RealPlayer", "RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)", "RealVideo.RealVideo(tm) ActiveX Control (32-bit)", "Scripting.Dictionary", "SWCtl.SWCtl", "Shell.UIHelper", "ShockwaveFlash.ShockwaveFlash", "Skype.Detection", "TDCCtl.TDCCtl", "WMPlayer.OCX", "rmocx.RealPlayer G2 Control", "rmocx.RealPlayer G2 Control.1"];
                        o = y(s, function(l) {
                            try {
                                return new window.ActiveXObject(l),
                                l
                            } catch {
                                return i.ERROR
                            }
                        })
                    } else
                        o.push(i.NOT_AVAILABLE);
                    return navigator.plugins && (o = o.concat(kt(i))),
                    o
                }
                  , pi = function(i) {
                    for (var o = !1, s = 0, l = i.plugins.sortPluginsFor.length; s < l; s++) {
                        var p = i.plugins.sortPluginsFor[s];
                        if (navigator.userAgent.match(p)) {
                            o = !0;
                            break
                        }
                    }
                    return o
                }
                  , mi = function(i) {
                    i(Ei())
                }
                  , gi = function(i, o) {
                    i(yi(o))
                }
                  , hi = function(i) {
                    try {
                        return !!window.sessionStorage
                    } catch {
                        return i.ERROR
                    }
                }
                  , bi = function(i) {
                    try {
                        return !!window.localStorage
                    } catch {
                        return i.ERROR
                    }
                }
                  , vi = function(i) {
                    if (Oi())
                        return i.EXCLUDED;
                    try {
                        return !!window.indexedDB
                    } catch {
                        return i.ERROR
                    }
                }
                  , yi = function(i) {
                    return navigator.hardwareConcurrency ? navigator.hardwareConcurrency : i.NOT_AVAILABLE
                }
                  , wi = function(i) {
                    return navigator.cpuClass || i.NOT_AVAILABLE
                }
                  , Si = function(i) {
                    return navigator.platform ? navigator.platform : i.NOT_AVAILABLE
                }
                  , _i = function(i) {
                    return navigator.doNotTrack ? navigator.doNotTrack : navigator.msDoNotTrack ? navigator.msDoNotTrack : window.doNotTrack ? window.doNotTrack : i.NOT_AVAILABLE
                }
                  , Ei = function() {
                    var i = 0, o;
                    typeof navigator.maxTouchPoints < "u" ? i = navigator.maxTouchPoints : typeof navigator.msMaxTouchPoints < "u" && (i = navigator.msMaxTouchPoints);
                    try {
                        document.createEvent("TouchEvent"),
                        o = !0
                    } catch {
                        o = !1
                    }
                    var s = "ontouchstart"in window;
                    return [i, o, s]
                }
                  , Ci = function(i) {
                    var o = []
                      , s = document.createElement("canvas");
                    s.width = 2e3,
                    s.height = 200,
                    s.style.display = "inline";
                    var l = s.getContext("2d");
                    return l.rect(0, 0, 10, 10),
                    l.rect(2, 2, 6, 6),
                    o.push("canvas winding:" + (l.isPointInPath(5, 5, "evenodd") === !1 ? "yes" : "no")),
                    l.textBaseline = "alphabetic",
                    l.fillStyle = "#f60",
                    l.fillRect(125, 1, 62, 20),
                    l.fillStyle = "#069",
                    i.dontUseFakeFontInCanvas ? l.font = "11pt Arial" : l.font = "11pt no-real-font-123",
                    l.fillText("Cwm fjordbank glyphs vext quiz, \u{1F603}", 2, 15),
                    l.fillStyle = "rgba(102, 204, 0, 0.2)",
                    l.font = "18pt Arial",
                    l.fillText("Cwm fjordbank glyphs vext quiz, \u{1F603}", 4, 45),
                    l.globalCompositeOperation = "multiply",
                    l.fillStyle = "rgb(255,0,255)",
                    l.beginPath(),
                    l.arc(50, 50, 50, 0, Math.PI * 2, !0),
                    l.closePath(),
                    l.fill(),
                    l.fillStyle = "rgb(0,255,255)",
                    l.beginPath(),
                    l.arc(100, 50, 50, 0, Math.PI * 2, !0),
                    l.closePath(),
                    l.fill(),
                    l.fillStyle = "rgb(255,255,0)",
                    l.beginPath(),
                    l.arc(75, 100, 50, 0, Math.PI * 2, !0),
                    l.closePath(),
                    l.fill(),
                    l.fillStyle = "rgb(255,0,255)",
                    l.arc(75, 75, 75, 0, Math.PI * 2, !0),
                    l.arc(75, 75, 25, 0, Math.PI * 2, !0),
                    l.fill("evenodd"),
                    s.toDataURL && o.push("canvas fp:" + s.toDataURL()),
                    o
                }
                  , xi = function() {
                    var i, o = function(F) {
                        return i.clearColor(0, 0, 0, 1),
                        i.enable(i.DEPTH_TEST),
                        i.depthFunc(i.LEQUAL),
                        i.clear(i.COLOR_BUFFER_BIT | i.DEPTH_BUFFER_BIT),
                        "[" + F[0] + ", " + F[1] + "]"
                    }, s = function(F) {
                        var le = F.getExtension("EXT_texture_filter_anisotropic") || F.getExtension("WEBKIT_EXT_texture_filter_anisotropic") || F.getExtension("MOZ_EXT_texture_filter_anisotropic");
                        if (le) {
                            var ae = F.getParameter(le.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
                            return ae === 0 && (ae = 2),
                            ae
                        } else
                            return null
                    };
                    if (i = ot(),
                    !i)
                        return null;
                    var l = []
                      , p = "attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"
                      , m = "precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"
                      , h = i.createBuffer();
                    i.bindBuffer(i.ARRAY_BUFFER, h);
                    var b = new Float32Array([-.2, -.9, 0, .4, -.26, 0, 0, .732134444, 0]);
                    i.bufferData(i.ARRAY_BUFFER, b, i.STATIC_DRAW),
                    h.itemSize = 3,
                    h.numItems = 3;
                    var C = i.createProgram()
                      , I = i.createShader(i.VERTEX_SHADER);
                    i.shaderSource(I, p),
                    i.compileShader(I);
                    var v = i.createShader(i.FRAGMENT_SHADER);
                    i.shaderSource(v, m),
                    i.compileShader(v),
                    i.attachShader(C, I),
                    i.attachShader(C, v),
                    i.linkProgram(C),
                    i.useProgram(C),
                    C.vertexPosAttrib = i.getAttribLocation(C, "attrVertex"),
                    C.offsetUniform = i.getUniformLocation(C, "uniformOffset"),
                    i.enableVertexAttribArray(C.vertexPosArray),
                    i.vertexAttribPointer(C.vertexPosAttrib, h.itemSize, i.FLOAT, !1, 0, 0),
                    i.uniform2f(C.offsetUniform, 1, 1),
                    i.drawArrays(i.TRIANGLE_STRIP, 0, h.numItems);
                    try {
                        l.push(i.canvas.toDataURL())
                    } catch {}
                    l.push("extensions:" + (i.getSupportedExtensions() || []).join(";")),
                    l.push("webgl aliased line width range:" + o(i.getParameter(i.ALIASED_LINE_WIDTH_RANGE))),
                    l.push("webgl aliased point size range:" + o(i.getParameter(i.ALIASED_POINT_SIZE_RANGE))),
                    l.push("webgl alpha bits:" + i.getParameter(i.ALPHA_BITS)),
                    l.push("webgl antialiasing:" + (i.getContextAttributes().antialias ? "yes" : "no")),
                    l.push("webgl blue bits:" + i.getParameter(i.BLUE_BITS)),
                    l.push("webgl depth bits:" + i.getParameter(i.DEPTH_BITS)),
                    l.push("webgl green bits:" + i.getParameter(i.GREEN_BITS)),
                    l.push("webgl max anisotropy:" + s(i)),
                    l.push("webgl max combined texture image units:" + i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),
                    l.push("webgl max cube map texture size:" + i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE)),
                    l.push("webgl max fragment uniform vectors:" + i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS)),
                    l.push("webgl max render buffer size:" + i.getParameter(i.MAX_RENDERBUFFER_SIZE)),
                    l.push("webgl max texture image units:" + i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS)),
                    l.push("webgl max texture size:" + i.getParameter(i.MAX_TEXTURE_SIZE)),
                    l.push("webgl max varying vectors:" + i.getParameter(i.MAX_VARYING_VECTORS)),
                    l.push("webgl max vertex attribs:" + i.getParameter(i.MAX_VERTEX_ATTRIBS)),
                    l.push("webgl max vertex texture image units:" + i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),
                    l.push("webgl max vertex uniform vectors:" + i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS)),
                    l.push("webgl max viewport dims:" + o(i.getParameter(i.MAX_VIEWPORT_DIMS))),
                    l.push("webgl red bits:" + i.getParameter(i.RED_BITS)),
                    l.push("webgl renderer:" + i.getParameter(i.RENDERER)),
                    l.push("webgl shading language version:" + i.getParameter(i.SHADING_LANGUAGE_VERSION)),
                    l.push("webgl stencil bits:" + i.getParameter(i.STENCIL_BITS)),
                    l.push("webgl vendor:" + i.getParameter(i.VENDOR)),
                    l.push("webgl version:" + i.getParameter(i.VERSION));
                    try {
                        var ne = i.getExtension("WEBGL_debug_renderer_info");
                        ne && (l.push("webgl unmasked vendor:" + i.getParameter(ne.UNMASKED_VENDOR_WEBGL)),
                        l.push("webgl unmasked renderer:" + i.getParameter(ne.UNMASKED_RENDERER_WEBGL)))
                    } catch {}
                    return i.getShaderPrecisionFormat ? (f(["FLOAT", "INT"], function(F) {
                        f(["VERTEX", "FRAGMENT"], function(le) {
                            f(["HIGH", "MEDIUM", "LOW"], function(ae) {
                                f(["precision", "rangeMin", "rangeMax"], function(ce) {
                                    var st = i.getShaderPrecisionFormat(i[le + "_SHADER"], i[ae + "_" + F])[ce];
                                    ce !== "precision" && (ce = "precision " + ce);
                                    var $e = ["webgl ", le.toLowerCase(), " shader ", ae.toLowerCase(), " ", F.toLowerCase(), " ", ce, ":", st].join("");
                                    l.push($e)
                                })
                            })
                        })
                    }),
                    Ge(i),
                    l) : (Ge(i),
                    l)
                }
                  , Ti = function() {
                    try {
                        var i = ot()
                          , o = i.getExtension("WEBGL_debug_renderer_info")
                          , s = i.getParameter(o.UNMASKED_VENDOR_WEBGL) + "~" + i.getParameter(o.UNMASKED_RENDERER_WEBGL);
                        return Ge(i),
                        s
                    } catch {
                        return null
                    }
                }
                  , Ai = function() {
                    var i = document.createElement("div");
                    i.innerHTML = "&nbsp;",
                    i.className = "adsbox";
                    var o = !1;
                    try {
                        document.body.appendChild(i),
                        o = document.getElementsByClassName("adsbox")[0].offsetHeight === 0,
                        document.body.removeChild(i)
                    } catch {
                        o = !1
                    }
                    return o
                }
                  , ki = function() {
                    if (typeof navigator.languages < "u")
                        try {
                            var i = navigator.languages[0].substr(0, 2);
                            if (i !== navigator.language.substr(0, 2))
                                return !0
                        } catch {
                            return !0
                        }
                    return !1
                }
                  , Li = function() {
                    return window.screen.width < window.screen.availWidth || window.screen.height < window.screen.availHeight
                }
                  , Pi = function() {
                    var i = navigator.userAgent.toLowerCase(), o = navigator.oscpu, s = navigator.platform.toLowerCase(), l;
                    i.indexOf("windows phone") >= 0 ? l = "Windows Phone" : i.indexOf("windows") >= 0 || i.indexOf("win16") >= 0 || i.indexOf("win32") >= 0 || i.indexOf("win64") >= 0 || i.indexOf("win95") >= 0 || i.indexOf("win98") >= 0 || i.indexOf("winnt") >= 0 || i.indexOf("wow64") >= 0 ? l = "Windows" : i.indexOf("android") >= 0 ? l = "Android" : i.indexOf("linux") >= 0 || i.indexOf("cros") >= 0 || i.indexOf("x11") >= 0 ? l = "Linux" : i.indexOf("iphone") >= 0 || i.indexOf("ipad") >= 0 || i.indexOf("ipod") >= 0 || i.indexOf("crios") >= 0 || i.indexOf("fxios") >= 0 ? l = "iOS" : i.indexOf("macintosh") >= 0 || i.indexOf("mac_powerpc)") >= 0 ? l = "Mac" : l = "Other";
                    var p = "ontouchstart"in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;
                    if (p && l !== "Windows" && l !== "Windows Phone" && l !== "Android" && l !== "iOS" && l !== "Other" && i.indexOf("cros") === -1)
                        return !0;
                    if (typeof o < "u") {
                        if (o = o.toLowerCase(),
                        o.indexOf("win") >= 0 && l !== "Windows" && l !== "Windows Phone")
                            return !0;
                        if (o.indexOf("linux") >= 0 && l !== "Linux" && l !== "Android")
                            return !0;
                        if (o.indexOf("mac") >= 0 && l !== "Mac" && l !== "iOS")
                            return !0;
                        if ((o.indexOf("win") === -1 && o.indexOf("linux") === -1 && o.indexOf("mac") === -1) != (l === "Other"))
                            return !0
                    }
                    if (s.indexOf("win") >= 0 && l !== "Windows" && l !== "Windows Phone")
                        return !0;
                    if ((s.indexOf("linux") >= 0 || s.indexOf("android") >= 0 || s.indexOf("pike") >= 0) && l !== "Linux" && l !== "Android")
                        return !0;
                    if ((s.indexOf("mac") >= 0 || s.indexOf("ipad") >= 0 || s.indexOf("ipod") >= 0 || s.indexOf("iphone") >= 0) && l !== "Mac" && l !== "iOS")
                        return !0;
                    if (s.indexOf("arm") >= 0 && l === "Windows Phone")
                        return !1;
                    if (s.indexOf("pike") >= 0 && i.indexOf("opera mini") >= 0)
                        return !1;
                    var m = s.indexOf("win") < 0 && s.indexOf("linux") < 0 && s.indexOf("mac") < 0 && s.indexOf("iphone") < 0 && s.indexOf("ipad") < 0 && s.indexOf("ipod") < 0;
                    return m !== (l === "Other") ? !0 : typeof navigator.plugins > "u" && l !== "Windows" && l !== "Windows Phone"
                }
                  , Bi = function() {
                    var i = navigator.userAgent.toLowerCase(), o = navigator.productSub, s;
                    if (i.indexOf("edge/") >= 0 || i.indexOf("iemobile/") >= 0)
                        return !1;
                    if (i.indexOf("opera mini") >= 0)
                        return !1;
                    if (i.indexOf("firefox/") >= 0 ? s = "Firefox" : i.indexOf("opera/") >= 0 || i.indexOf(" opr/") >= 0 ? s = "Opera" : i.indexOf("chrome/") >= 0 ? s = "Chrome" : i.indexOf("safari/") >= 0 ? i.indexOf("android 1.") >= 0 || i.indexOf("android 2.") >= 0 || i.indexOf("android 3.") >= 0 || i.indexOf("android 4.") >= 0 ? s = "AOSP" : s = "Safari" : i.indexOf("trident/") >= 0 ? s = "Internet Explorer" : s = "Other",
                    (s === "Chrome" || s === "Safari" || s === "Opera") && o !== "20030107")
                        return !0;
                    var l = eval.toString().length;
                    if (l === 37 && s !== "Safari" && s !== "Firefox" && s !== "Other")
                        return !0;
                    if (l === 39 && s !== "Internet Explorer" && s !== "Other")
                        return !0;
                    if (l === 33 && s !== "Chrome" && s !== "AOSP" && s !== "Opera" && s !== "Other")
                        return !0;
                    var p;
                    try {
                        throw "a"
                    } catch (m) {
                        try {
                            m.toSource(),
                            p = !0
                        } catch {
                            p = !1
                        }
                    }
                    return p && s !== "Firefox" && s !== "Other"
                }
                  , Lt = function() {
                    var i = document.createElement("canvas");
                    return !!(i.getContext && i.getContext("2d"))
                }
                  , Pt = function() {
                    if (!Lt())
                        return !1;
                    var i = ot()
                      , o = !!window.WebGLRenderingContext && !!i;
                    return Ge(i),
                    o
                }
                  , Ii = function() {
                    return navigator.appName === "Microsoft Internet Explorer" ? !0 : !!(navigator.appName === "Netscape" && /Trident/.test(navigator.userAgent))
                }
                  , Oi = function() {
                    return ("msWriteProfilerMark"in window) + ("msLaunchUri"in navigator) + ("msSaveBlob"in navigator) >= 2
                }
                  , Mi = function() {
                    return typeof window.swfobject < "u"
                }
                  , Di = function() {
                    return window.swfobject.hasFlashPlayerVersion("9.0.0")
                }
                  , Ri = function(i) {
                    var o = document.createElement("div");
                    o.setAttribute("id", i.fonts.swfContainerId),
                    document.body.appendChild(o)
                }
                  , Ui = function(i, o) {
                    var s = "___fp_swf_loaded";
                    window[s] = function(h) {
                        i(h)
                    }
                    ;
                    var l = o.fonts.swfContainerId;
                    Ri();
                    var p = {
                        onReady: s
                    }
                      , m = {
                        allowScriptAccess: "always",
                        menu: "false"
                    };
                    window.swfobject.embedSWF(o.fonts.swfPath, l, "1", "1", "9.0.0", !1, p, m, {})
                }
                  , ot = function() {
                    var i = document.createElement("canvas")
                      , o = null;
                    try {
                        o = i.getContext("webgl") || i.getContext("experimental-webgl")
                    } catch {}
                    return o || (o = null),
                    o
                }
                  , Ge = function(i) {
                    var o = i.getExtension("WEBGL_lose_context");
                    o?.loseContext()
                }
                  , Fi = [{
                    key: "userAgent",
                    getData: w
                }, {
                    key: "webdriver",
                    getData: L
                }, {
                    key: "language",
                    getData: U
                }, {
                    key: "colorDepth",
                    getData: z
                }, {
                    key: "deviceMemory",
                    getData: ge
                }, {
                    key: "pixelRatio",
                    getData: W
                }, {
                    key: "hardwareConcurrency",
                    getData: gi
                }, {
                    key: "screenResolution",
                    getData: Ne
                }, {
                    key: "availableScreenResolution",
                    getData: at
                }, {
                    key: "timezoneOffset",
                    getData: jr
                }, {
                    key: "timezone",
                    getData: Kr
                }, {
                    key: "sessionStorage",
                    getData: zr
                }, {
                    key: "localStorage",
                    getData: qr
                }, {
                    key: "indexedDb",
                    getData: Xr
                }, {
                    key: "addBehavior",
                    getData: Yr
                }, {
                    key: "openDatabase",
                    getData: Zr
                }, {
                    key: "cpuClass",
                    getData: Jr
                }, {
                    key: "platform",
                    getData: Qr
                }, {
                    key: "doNotTrack",
                    getData: ei
                }, {
                    key: "plugins",
                    getData: di
                }, {
                    key: "canvas",
                    getData: ti
                }, {
                    key: "webgl",
                    getData: ri
                }, {
                    key: "webglVendorAndRenderer",
                    getData: ii
                }, {
                    key: "adBlock",
                    getData: ni
                }, {
                    key: "hasLiedLanguages",
                    getData: ai
                }, {
                    key: "hasLiedResolution",
                    getData: oi
                }, {
                    key: "hasLiedOs",
                    getData: si
                }, {
                    key: "hasLiedBrowser",
                    getData: li
                }, {
                    key: "touchSupport",
                    getData: mi
                }, {
                    key: "fonts",
                    getData: ui,
                    pauseBefore: !0
                }, {
                    key: "fontsFlash",
                    getData: ci,
                    pauseBefore: !0
                }, {
                    key: "audio",
                    getData: D
                }, {
                    key: "enumerateDevices",
                    getData: A
                }]
                  , ie = function(i) {
                    throw new Error("'new Fingerprint()' is deprecated, see https://github.com/fingerprintjs/fingerprintjs#upgrade-guide-from-182-to-200")
                };
                return ie.get = function(i, o) {
                    o ? i || (i = {}) : (o = i,
                    i = {}),
                    S(i, d),
                    i.components = i.extraComponents.concat(Fi);
                    var s = {
                        data: [],
                        addPreprocessedComponent: function(m, h) {
                            typeof i.preprocessor == "function" && (h = i.preprocessor(m, h)),
                            s.data.push({
                                key: m,
                                value: h
                            })
                        }
                    }
                      , l = -1
                      , p = function(m) {
                        if (l += 1,
                        l >= i.components.length) {
                            o(s.data);
                            return
                        }
                        var h = i.components[l];
                        if (i.excludes[h.key]) {
                            p(!1);
                            return
                        }
                        if (!m && h.pauseBefore) {
                            l -= 1,
                            setTimeout(function() {
                                p(!0)
                            }, 1);
                            return
                        }
                        try {
                            h.getData(function(b) {
                                s.addPreprocessedComponent(h.key, b),
                                p(!1)
                            }, i)
                        } catch (b) {
                            s.addPreprocessedComponent(h.key, String(b)),
                            p(!1)
                        }
                    };
                    p(!1)
                }
                ,
                ie.getPromise = function(i) {
                    return new Promise(function(o, s) {
                        ie.get(i, o)
                    }
                    )
                }
                ,
                ie.getV18 = function(i, o) {
                    return o == null && (o = i,
                    i = {}),
                    ie.get(i, function(s) {
                        for (var l = [], p = 0; p < s.length; p++) {
                            var m = s[p];
                            if (m.value === (i.NOT_AVAILABLE || "not available"))
                                l.push({
                                    key: m.key,
                                    value: "unknown"
                                });
                            else if (m.key === "plugins")
                                l.push({
                                    key: "plugins",
                                    value: y(m.value, function(b) {
                                        var C = y(b[2], function(I) {
                                            return I.join ? I.join("~") : I
                                        }).join(",");
                                        return [b[0], b[1], C].join("::")
                                    })
                                });
                            else if (["canvas", "webgl"].indexOf(m.key) !== -1 && Array.isArray(m.value))
                                l.push({
                                    key: m.key,
                                    value: m.value.join("~")
                                });
                            else if (["sessionStorage", "localStorage", "indexedDb", "addBehavior", "openDatabase"].indexOf(m.key) !== -1)
                                if (m.value)
                                    l.push({
                                        key: m.key,
                                        value: 1
                                    });
                                else
                                    continue;
                            else
                                m.value ? l.push(m.value.join ? {
                                    key: m.key,
                                    value: m.value.join(";")
                                } : m) : l.push({
                                    key: m.key,
                                    value: m.value
                                })
                        }
                        var h = u(y(l, function(b) {
                            return b.value
                        }).join("~~~"), 31);
                        o(h, l)
                    })
                }
                ,
                ie.x64hash128 = u,
                ie.VERSION = "2.1.4",
                ie
            })
        }
        );
        var Hr = Mt((Me,we)=>{
            var rn = 200
              , _r = "__lodash_hash_undefined__"
              , nn = 800
              , an = 16
              , Er = 9007199254740991
              , Cr = "[object Arguments]"
              , on = "[object Array]"
              , sn = "[object AsyncFunction]"
              , ln = "[object Boolean]"
              , cn = "[object Date]"
              , un = "[object Error]"
              , xr = "[object Function]"
              , dn = "[object GeneratorFunction]"
              , fn = "[object Map]"
              , pn = "[object Number]"
              , mn = "[object Null]"
              , Tr = "[object Object]"
              , gn = "[object Proxy]"
              , hn = "[object RegExp]"
              , bn = "[object Set]"
              , vn = "[object String]"
              , yn = "[object Undefined]"
              , wn = "[object WeakMap]"
              , Sn = "[object ArrayBuffer]"
              , _n = "[object DataView]"
              , En = "[object Float32Array]"
              , Cn = "[object Float64Array]"
              , xn = "[object Int8Array]"
              , Tn = "[object Int16Array]"
              , An = "[object Int32Array]"
              , kn = "[object Uint8Array]"
              , Ln = "[object Uint8ClampedArray]"
              , Pn = "[object Uint16Array]"
              , Bn = "[object Uint32Array]"
              , In = /[\\^$.*+?()[\]{}|]/g
              , On = /^\[object .+?Constructor\]$/
              , Mn = /^(?:0|[1-9]\d*)$/
              , T = {};
            T[En] = T[Cn] = T[xn] = T[Tn] = T[An] = T[kn] = T[Ln] = T[Pn] = T[Bn] = !0;
            T[Cr] = T[on] = T[Sn] = T[ln] = T[_n] = T[cn] = T[un] = T[xr] = T[fn] = T[pn] = T[Tr] = T[hn] = T[bn] = T[vn] = T[wn] = !1;
            var Ar = typeof global == "object" && global && global.Object === Object && global
              , Dn = typeof self == "object" && self && self.Object === Object && self
              , Ue = Ar || Dn || Function("return this")()
              , kr = typeof Me == "object" && Me && !Me.nodeType && Me
              , De = kr && typeof we == "object" && we && !we.nodeType && we
              , Lr = De && De.exports === kr
              , mt = Lr && Ar.process
              , pr = function() {
                try {
                    var t = De && De.require && De.require("util").types;
                    return t || mt && mt.binding && mt.binding("util")
                } catch {}
            }()
              , mr = pr && pr.isTypedArray;
            function Pr(t, e, r) {
                switch (r.length) {
                case 0:
                    return t.call(e);
                case 1:
                    return t.call(e, r[0]);
                case 2:
                    return t.call(e, r[0], r[1]);
                case 3:
                    return t.call(e, r[0], r[1], r[2])
                }
                return t.apply(e, r)
            }
            function Rn(t, e) {
                for (var r = -1, n = Array(t); ++r < t; )
                    n[r] = e(r);
                return n
            }
            function Un(t) {
                return function(e) {
                    return t(e)
                }
            }
            function Fn(t, e) {
                return t?.[e]
            }
            function Nn(t, e) {
                return function(r) {
                    return t(e(r))
                }
            }
            var Gn = Array.prototype
              , $n = Function.prototype
              , Qe = Object.prototype
              , gt = Ue["__core-js_shared__"]
              , et = $n.toString
              , te = Qe.hasOwnProperty
              , gr = function() {
                var t = /[^.]+$/.exec(gt && gt.keys && gt.keys.IE_PROTO || "");
                return t ? "Symbol(src)_1." + t : ""
            }()
              , Br = Qe.toString
              , Vn = et.call(Object)
              , Hn = RegExp("^" + et.call(te).replace(In, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$")
              , Ze = Lr ? Ue.Buffer : void 0
              , hr = Ue.Symbol
              , br = Ue.Uint8Array
              , vr = Ze ? Ze.allocUnsafe : void 0
              , Ir = Nn(Object.getPrototypeOf, Object)
              , yr = Object.create
              , Wn = Qe.propertyIsEnumerable
              , jn = Gn.splice
              , pe = hr ? hr.toStringTag : void 0
              , Je = function() {
                try {
                    var t = _t(Object, "defineProperty");
                    return t({}, "", {}),
                    t
                } catch {}
            }()
              , Kn = Ze ? Ze.isBuffer : void 0
              , wr = Math.max
              , zn = Date.now
              , Or = _t(Ue, "Map")
              , Re = _t(Object, "create")
              , qn = function() {
                function t() {}
                return function(e) {
                    if (!ee(e))
                        return {};
                    if (yr)
                        return yr(e);
                    t.prototype = e;
                    var r = new t;
                    return t.prototype = void 0,
                    r
                }
            }();
            function me(t) {
                var e = -1
                  , r = t == null ? 0 : t.length;
                for (this.clear(); ++e < r; ) {
                    var n = t[e];
                    this.set(n[0], n[1])
                }
            }
            function Xn() {
                this.__data__ = Re ? Re(null) : {},
                this.size = 0
            }
            function Yn(t) {
                var e = this.has(t) && delete this.__data__[t];
                return this.size -= e ? 1 : 0,
                e
            }
            function Zn(t) {
                var e = this.__data__;
                if (Re) {
                    var r = e[t];
                    return r === _r ? void 0 : r
                }
                return te.call(e, t) ? e[t] : void 0
            }
            function Jn(t) {
                var e = this.__data__;
                return Re ? e[t] !== void 0 : te.call(e, t)
            }
            function Qn(t, e) {
                var r = this.__data__;
                return this.size += this.has(t) ? 0 : 1,
                r[t] = Re && e === void 0 ? _r : e,
                this
            }
            me.prototype.clear = Xn;
            me.prototype.delete = Yn;
            me.prototype.get = Zn;
            me.prototype.has = Jn;
            me.prototype.set = Qn;
            function re(t) {
                var e = -1
                  , r = t == null ? 0 : t.length;
                for (this.clear(); ++e < r; ) {
                    var n = t[e];
                    this.set(n[0], n[1])
                }
            }
            function ea() {
                this.__data__ = [],
                this.size = 0
            }
            function ta(t) {
                var e = this.__data__
                  , r = tt(e, t);
                if (r < 0)
                    return !1;
                var n = e.length - 1;
                return r == n ? e.pop() : jn.call(e, r, 1),
                --this.size,
                !0
            }
            function ra(t) {
                var e = this.__data__
                  , r = tt(e, t);
                return r < 0 ? void 0 : e[r][1]
            }
            function ia(t) {
                return tt(this.__data__, t) > -1
            }
            function na(t, e) {
                var r = this.__data__
                  , n = tt(r, t);
                return n < 0 ? (++this.size,
                r.push([t, e])) : r[n][1] = e,
                this
            }
            re.prototype.clear = ea;
            re.prototype.delete = ta;
            re.prototype.get = ra;
            re.prototype.has = ia;
            re.prototype.set = na;
            function Se(t) {
                var e = -1
                  , r = t == null ? 0 : t.length;
                for (this.clear(); ++e < r; ) {
                    var n = t[e];
                    this.set(n[0], n[1])
                }
            }
            function aa() {
                this.size = 0,
                this.__data__ = {
                    hash: new me,
                    map: new (Or || re),
                    string: new me
                }
            }
            function oa(t) {
                var e = it(this, t).delete(t);
                return this.size -= e ? 1 : 0,
                e
            }
            function sa(t) {
                return it(this, t).get(t)
            }
            function la(t) {
                return it(this, t).has(t)
            }
            function ca(t, e) {
                var r = it(this, t)
                  , n = r.size;
                return r.set(t, e),
                this.size += r.size == n ? 0 : 1,
                this
            }
            Se.prototype.clear = aa;
            Se.prototype.delete = oa;
            Se.prototype.get = sa;
            Se.prototype.has = la;
            Se.prototype.set = ca;
            function _e(t) {
                var e = this.__data__ = new re(t);
                this.size = e.size
            }
            function ua() {
                this.__data__ = new re,
                this.size = 0
            }
            function da(t) {
                var e = this.__data__
                  , r = e.delete(t);
                return this.size = e.size,
                r
            }
            function fa(t) {
                return this.__data__.get(t)
            }
            function pa(t) {
                return this.__data__.has(t)
            }
            function ma(t, e) {
                var r = this.__data__;
                if (r instanceof re) {
                    var n = r.__data__;
                    if (!Or || n.length < rn - 1)
                        return n.push([t, e]),
                        this.size = ++r.size,
                        this;
                    r = this.__data__ = new Se(n)
                }
                return r.set(t, e),
                this.size = r.size,
                this
            }
            _e.prototype.clear = ua;
            _e.prototype.delete = da;
            _e.prototype.get = fa;
            _e.prototype.has = pa;
            _e.prototype.set = ma;
            function ga(t, e) {
                var r = yt(t)
                  , n = !r && vt(t)
                  , a = !r && !n && Fr(t)
                  , c = !r && !n && !a && Gr(t)
                  , u = r || n || a || c
                  , d = u ? Rn(t.length, String) : []
                  , f = d.length;
                for (var y in t)
                    (e || te.call(t, y)) && !(u && (y == "length" || a && (y == "offset" || y == "parent") || c && (y == "buffer" || y == "byteLength" || y == "byteOffset") || Rr(y, f))) && d.push(y);
                return d
            }
            function ht(t, e, r) {
                (r !== void 0 && !nt(t[e], r) || r === void 0 && !(e in t)) && wt(t, e, r)
            }
            function ha(t, e, r) {
                var n = t[e];
                (!(te.call(t, e) && nt(n, r)) || r === void 0 && !(e in t)) && wt(t, e, r)
            }
            function tt(t, e) {
                for (var r = t.length; r--; )
                    if (nt(t[r][0], e))
                        return r;
                return -1
            }
            function wt(t, e, r) {
                e == "__proto__" && Je ? Je(t, e, {
                    configurable: !0,
                    enumerable: !0,
                    value: r,
                    writable: !0
                }) : t[e] = r
            }
            var ba = La();
            function rt(t) {
                return t == null ? t === void 0 ? yn : mn : pe && pe in Object(t) ? Pa(t) : Ra(t)
            }
            function Sr(t) {
                return Fe(t) && rt(t) == Cr
            }
            function va(t) {
                if (!ee(t) || Ma(t))
                    return !1;
                var e = Ct(t) ? Hn : On;
                return e.test(Ga(t))
            }
            function ya(t) {
                return Fe(t) && Nr(t.length) && !!T[rt(t)]
            }
            function wa(t) {
                if (!ee(t))
                    return Da(t);
                var e = Ur(t)
                  , r = [];
                for (var n in t)
                    n == "constructor" && (e || !te.call(t, n)) || r.push(n);
                return r
            }
            function St(t, e, r, n, a) {
                t !== e && ba(e, function(c, u) {
                    if (a || (a = new _e),
                    ee(c))
                        Sa(t, e, u, r, St, n, a);
                    else {
                        var d = n ? n(bt(t, u), c, u + "", t, e, a) : void 0;
                        d === void 0 && (d = c),
                        ht(t, u, d)
                    }
                }, $r)
            }
            function Sa(t, e, r, n, a, c, u) {
                var d = bt(t, r)
                  , f = bt(e, r)
                  , y = u.get(f);
                if (y) {
                    ht(t, r, y);
                    return
                }
                var S = c ? c(d, f, r + "", t, e, u) : void 0
                  , A = S === void 0;
                if (A) {
                    var k = yt(f)
                      , D = !k && Fr(f)
                      , w = !k && !D && Gr(f);
                    S = f,
                    k || D || w ? yt(d) ? S = d : $a(d) ? S = Ta(d) : D ? (A = !1,
                    S = Ea(f, !0)) : w ? (A = !1,
                    S = xa(f, !0)) : S = [] : Va(f) || vt(f) ? (S = d,
                    vt(d) ? S = Ha(d) : (!ee(d) || Ct(d)) && (S = Ba(f))) : A = !1
                }
                A && (u.set(f, S),
                a(S, f, n, c, u),
                u.delete(f)),
                ht(t, r, S)
            }
            function Mr(t, e) {
                return Fa(Ua(t, e, Vr), t + "")
            }
            var _a = Je ? function(t, e) {
                return Je(t, "toString", {
                    configurable: !0,
                    enumerable: !1,
                    value: Ka(e),
                    writable: !0
                })
            }
            : Vr;
            function Ea(t, e) {
                if (e)
                    return t.slice();
                var r = t.length
                  , n = vr ? vr(r) : new t.constructor(r);
                return t.copy(n),
                n
            }
            function Ca(t) {
                var e = new t.constructor(t.byteLength);
                return new br(e).set(new br(t)),
                e
            }
            function xa(t, e) {
                var r = e ? Ca(t.buffer) : t.buffer;
                return new t.constructor(r,t.byteOffset,t.length)
            }
            function Ta(t, e) {
                var r = -1
                  , n = t.length;
                for (e || (e = Array(n)); ++r < n; )
                    e[r] = t[r];
                return e
            }
            function Aa(t, e, r, n) {
                var a = !r;
                r || (r = {});
                for (var c = -1, u = e.length; ++c < u; ) {
                    var d = e[c]
                      , f = n ? n(r[d], t[d], d, r, t) : void 0;
                    f === void 0 && (f = t[d]),
                    a ? wt(r, d, f) : ha(r, d, f)
                }
                return r
            }
            function ka(t) {
                return Mr(function(e, r) {
                    var n = -1
                      , a = r.length
                      , c = a > 1 ? r[a - 1] : void 0
                      , u = a > 2 ? r[2] : void 0;
                    for (c = t.length > 3 && typeof c == "function" ? (a--,
                    c) : void 0,
                    u && Ia(r[0], r[1], u) && (c = a < 3 ? void 0 : c,
                    a = 1),
                    e = Object(e); ++n < a; ) {
                        var d = r[n];
                        d && t(e, d, n, c)
                    }
                    return e
                })
            }
            function La(t) {
                return function(e, r, n) {
                    for (var a = -1, c = Object(e), u = n(e), d = u.length; d--; ) {
                        var f = u[t ? d : ++a];
                        if (r(c[f], f, c) === !1)
                            break
                    }
                    return e
                }
            }
            function Dr(t, e, r, n, a, c) {
                return ee(t) && ee(e) && (c.set(e, t),
                St(t, e, void 0, Dr, c),
                c.delete(e)),
                t
            }
            function it(t, e) {
                var r = t.__data__;
                return Oa(e) ? r[typeof e == "string" ? "string" : "hash"] : r.map
            }
            function _t(t, e) {
                var r = Fn(t, e);
                return va(r) ? r : void 0
            }
            function Pa(t) {
                var e = te.call(t, pe)
                  , r = t[pe];
                try {
                    t[pe] = void 0;
                    var n = !0
                } catch {}
                var a = Br.call(t);
                return n && (e ? t[pe] = r : delete t[pe]),
                a
            }
            function Ba(t) {
                return typeof t.constructor == "function" && !Ur(t) ? qn(Ir(t)) : {}
            }
            function Rr(t, e) {
                var r = typeof t;
                return e = e ?? Er,
                !!e && (r == "number" || r != "symbol" && Mn.test(t)) && t > -1 && t % 1 == 0 && t < e
            }
            function Ia(t, e, r) {
                if (!ee(r))
                    return !1;
                var n = typeof e;
                return (n == "number" ? Et(r) && Rr(e, r.length) : n == "string" && e in r) ? nt(r[e], t) : !1
            }
            function Oa(t) {
                var e = typeof t;
                return e == "string" || e == "number" || e == "symbol" || e == "boolean" ? t !== "__proto__" : t === null
            }
            function Ma(t) {
                return !!gr && gr in t
            }
            function Ur(t) {
                var e = t && t.constructor
                  , r = typeof e == "function" && e.prototype || Qe;
                return t === r
            }
            function Da(t) {
                var e = [];
                if (t != null)
                    for (var r in Object(t))
                        e.push(r);
                return e
            }
            function Ra(t) {
                return Br.call(t)
            }
            function Ua(t, e, r) {
                return e = wr(e === void 0 ? t.length - 1 : e, 0),
                function() {
                    for (var n = arguments, a = -1, c = wr(n.length - e, 0), u = Array(c); ++a < c; )
                        u[a] = n[e + a];
                    a = -1;
                    for (var d = Array(e + 1); ++a < e; )
                        d[a] = n[a];
                    return d[e] = r(u),
                    Pr(t, this, d)
                }
            }
            function bt(t, e) {
                if (!(e === "constructor" && typeof t[e] == "function") && e != "__proto__")
                    return t[e]
            }
            var Fa = Na(_a);
            function Na(t) {
                var e = 0
                  , r = 0;
                return function() {
                    var n = zn()
                      , a = an - (n - r);
                    if (r = n,
                    a > 0) {
                        if (++e >= nn)
                            return arguments[0]
                    } else
                        e = 0;
                    return t.apply(void 0, arguments)
                }
            }
            function Ga(t) {
                if (t != null) {
                    try {
                        return et.call(t)
                    } catch {}
                    try {
                        return t + ""
                    } catch {}
                }
                return ""
            }
            function nt(t, e) {
                return t === e || t !== t && e !== e
            }
            var vt = Sr(function() {
                return arguments
            }()) ? Sr : function(t) {
                return Fe(t) && te.call(t, "callee") && !Wn.call(t, "callee")
            }
              , yt = Array.isArray;
            function Et(t) {
                return t != null && Nr(t.length) && !Ct(t)
            }
            function $a(t) {
                return Fe(t) && Et(t)
            }
            var Fr = Kn || za;
            function Ct(t) {
                if (!ee(t))
                    return !1;
                var e = rt(t);
                return e == xr || e == dn || e == sn || e == gn
            }
            function Nr(t) {
                return typeof t == "number" && t > -1 && t % 1 == 0 && t <= Er
            }
            function ee(t) {
                var e = typeof t;
                return t != null && (e == "object" || e == "function")
            }
            function Fe(t) {
                return t != null && typeof t == "object"
            }
            function Va(t) {
                if (!Fe(t) || rt(t) != Tr)
                    return !1;
                var e = Ir(t);
                if (e === null)
                    return !0;
                var r = te.call(e, "constructor") && e.constructor;
                return typeof r == "function" && r instanceof r && et.call(r) == Vn
            }
            var Gr = mr ? Un(mr) : ya;
            function Ha(t) {
                return Aa(t, $r(t))
            }
            var Wa = Mr(function(t) {
                return t.push(void 0, Dr),
                Pr(ja, void 0, t)
            });
            function $r(t) {
                return Et(t) ? ga(t, !0) : wa(t)
            }
            var ja = ka(function(t, e, r, n) {
                St(t, e, r, n)
            });
            function Ka(t) {
                return function() {
                    return t
                }
            }
            function Vr(t) {
                return t
            }
            function za() {
                return !1
            }
            we.exports = Wa
        }
        );
        var He = (t,e,r="default")=>{
            let n = document.createElement("li");
            if (n.classList.add("sl-popup-item"),
            n.setAttribute("data-type", r),
            r != "default") {
                let f = document.createElement("div");
                f.classList.add("sl-popup-icon"),
                f.classList.add(`sl-popup-${r}-icon`),
                n.appendChild(f)
            }
            let a = document.createElement("div");
            a.classList.add("sl-popup-close"),
            n.appendChild(a),
            a.addEventListener("click", ()=>n.remove());
            let c = document.createElement("div");
            c.classList.add("sl-popup-text-container");
            let u = document.createElement("h3");
            u.innerText = t,
            c.appendChild(u);
            let d = document.createElement("p");
            if (d.innerHTML = e,
            c.appendChild(d),
            n.appendChild(c),
            document.getElementById("sl-popup-container"))
                document.getElementById("sl-popup-container").appendChild(n);
            else {
                let f = document.createElement("ul");
                f.id = "sl-popup-container",
                f.appendChild(n),
                document.getElementsByTagName("body")[0].appendChild(f)
            }
        }
          , Ee = (t,e)=>{
            He(t, e, "success")
        }
          , Ce = (t,e)=>{
            He(t, e, "warning")
        }
          , ct = (t,e)=>{
            He(t, e, "error")
        }
          , q = (t,e)=>{
            He(t, e)
        }
        ;
        function je(t) {
            for (var e = 1; e < arguments.length; e++) {
                var r = arguments[e];
                for (var n in r)
                    t[n] = r[n]
            }
            return t
        }
        var Xi = {
            read: function(t) {
                return t[0] === '"' && (t = t.slice(1, -1)),
                t.replace(/(%[\dA-F]{2})+/gi, decodeURIComponent)
            },
            write: function(t) {
                return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g, decodeURIComponent)
            }
        };
        function ut(t, e) {
            function r(a, c, u) {
                if (!(typeof document > "u")) {
                    u = je({}, e, u),
                    typeof u.expires == "number" && (u.expires = new Date(Date.now() + u.expires * 864e5)),
                    u.expires && (u.expires = u.expires.toUTCString()),
                    a = encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent).replace(/[()]/g, escape);
                    var d = "";
                    for (var f in u)
                        !u[f] || (d += "; " + f,
                        u[f] !== !0 && (d += "=" + u[f].split(";")[0]));
                    return document.cookie = a + "=" + t.write(c, a) + d
                }
            }
            function n(a) {
                if (!(typeof document > "u" || arguments.length && !a)) {
                    for (var c = document.cookie ? document.cookie.split("; ") : [], u = {}, d = 0; d < c.length; d++) {
                        var f = c[d].split("=")
                          , y = f.slice(1).join("=");
                        try {
                            var S = decodeURIComponent(f[0]);
                            if (u[S] = t.read(y, S),
                            a === S)
                                break
                        } catch {}
                    }
                    return a ? u[a] : u
                }
            }
            return Object.create({
                set: r,
                get: n,
                remove: function(a, c) {
                    r(a, "", je({}, c, {
                        expires: -1
                    }))
                },
                withAttributes: function(a) {
                    return ut(this.converter, je({}, this.attributes, a))
                },
                withConverter: function(a) {
                    return ut(je({}, this.converter, a), this.attributes)
                }
            }, {
                attributes: {
                    value: Object.freeze(e)
                },
                converter: {
                    value: Object.freeze(t)
                }
            })
        }
        var Yi = ut(Xi, {
            path: "/"
        })
          , V = Yi;
        var E = t=>new URLSearchParams(window.location.search).get(t)
          , Rt = t=>new RegExp("^" + t.split(/\*+/).map(Zi).join(".*") + "$")
          , Zi = t=>t.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&");
        var H = t=>{
            let e = new Event(`sl:${t}`);
            document.dispatchEvent(e)
        }
          , X = ()=>!!E("SLVerifyInstall")
          , xe = ()=>X() && E("SLVerifyInstall").includes("MF")
          , j = ()=>X() && E("SLVerifyInstall").includes("upscribe")
          , Ke = ()=>X() && E("SLVerifyInstall").includes("partner_program")
          , R = ()=>window.SL.config.test_mode || E("test_mode") == "true"
          , N = ()=>E("debug") == "true"
          , ue = ()=>E("partner_mode") == "true"
          , Ji = ()=>window.location.hostname === "referralhub.page"
          , O = ()=>window.SL.config || {}
          , B = (t={})=>{
            let e = window.SL.visitor || {};
            return Object.keys(t).length && (e = Object.assign(e, t)),
            window.SL.visitor = e,
            window.SL.visitor
        }
          , P = (t=null)=>{
            let e = B();
            return t && Object.keys(e).length && (e.subscriber = t,
            H("subscriber-updated")),
            e.subscriber
        }
          , Qi = ()=>X() ? E("rh_ref") : B().referrer
          , Te = (t=null)=>{
            let e = O().widgets.upscribes;
            return t ? e.find(n=>n.uuid == t) : e[0]
        }
          , de = ()=>{
            let t = B();
            return {
                uuid: O().uuid,
                referrer_code: Qi(),
                campaign_id: t.campaign,
                utm_source: t.utm_source,
                utm_campaign: t.utm_campaign,
                fingerprint: t.fingerprint,
                origin: t.origin,
                email: t.email
            }
        }
          , dt = ()=>E("flash_messages") == "true"
          , Ut = ()=>{
            R() && dt() && q("TEST MODE ENABLED", "You're currently in test mode. No data will be stored while in test mode")
        }
          , Ft = ()=>window.SLConfig.plan != "lite_v3" || R() || Ji()
          , Z = (t,e,r=30)=>{
            if (X() || R())
                return !1;
            let n = window.location.hostname.replace("www.", "");
            e && (V.set(t, e, {
                expires: r,
                domain: `.${n}`
            }),
            console.log(`${t} tracked`))
        }
          , Nt = ()=>{
            document.documentElement.style.setProperty("--sl-widgets-font-family", "-apple-system, system-ui"),
            document.documentElement.style.setProperty("--sl-widgets-base-unit", "16px")
        }
          , ze = (t,e)=>{
            let r = `sparkloop-${t}-custom-css`;
            document.getElementById(r) && document.getElementById(r).remove();
            var n = document.createElement("style");
            n.type = "text/css",
            n.id = r,
            n.textContent = e,
            document.head.appendChild(n)
        }
          , Ae = t=>{
            let e = `sparkloop-${t}-style`;
            if (document.querySelector(`link#${e}`))
                return;
            let r = document.createElement("link");
            r.id = e,
            r.setAttribute("rel", "stylesheet"),
            r.setAttribute("href", `${window.SLConfig.app_url}/styles/${t}.css`),
            document.head.appendChild(r)
        }
          , ke = t=>{
            let e = document.createElement("link");
            e.setAttribute("rel", "preload"),
            e.setAttribute("as", "image"),
            e.setAttribute("href", t),
            document.head.appendChild(e)
        }
          , Gt = (t,e,r)=>{
            let n;
            if (document.body.createTextRange) {
                let a = document.body.createTextRange();
                a.moveToElementText(t),
                a.select()
            } else if (window.getSelection && document.createRange) {
                t.readOnly = !1;
                let a = document.createRange();
                a.selectNodeContents(t);
                let c = window.getSelection();
                c.removeAllRanges(),
                c.addRange(a),
                (t.nodeName == "TEXTAREA" || t.nodeName == "INPUT") && t.select(),
                t.setSelectionRange && navigator.userAgent.match(/ipad|ipod|iphone/i) && (t.setSelectionRange(0, 999999),
                t.readOnly = !0)
            }
            try {
                n = document.execCommand("copy")
            } catch {
                n = !1
            }
            if (n) {
                let a = e.textContent
                  , c = r;
                e.textContent = c,
                setTimeout(()=>e.textContent = a, 500),
                console.log("Referral link copied to clipboard.")
            }
        }
          , ft = t=>t.querySelector("input[type*=email]") || t.querySelector("input[type*=Email]") || t.querySelector("input[type*=EMAIL]") || t.querySelector("input[name*=EMAIL]") || t.querySelector("input[name*=email]") || t.querySelector("input[name*=Email]") || t.querySelector("input[for*=email]") || t.querySelector("input[for*=Email]") || t.querySelector("input[for*=EMAIL]")
          , $t = t=>{
            let e = !1
              , r = !1;
            return t.forEach(n=>{
                n.querySelector(".gform_body") && (e = !0),
                ft(n) && (r = !0)
            }
            ),
            e && !r
        }
          , qe = t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",")
          , x = ({type: t="div", id: e="", classes: r="", text: n="", html: a="", parent: c, attributes: u={}}={})=>{
            let d = document.createElement(t);
            e && (d.id = e),
            r && (d.className = r),
            n && (d.innerText = n),
            a && (d.innerHTML = a),
            c && c.appendChild(d);
            for (let f in u)
                d.setAttribute(f, u[f]);
            return d
        }
          , Vt = (t,e,r="")=>{
            let n = `https://sparkloop.app/${r}?utm_campaign=powered-by&utm_source=${t}&utm_medium=${O().uuid}`;
            return x({
                type: "a",
                attributes: {
                    href: n,
                    target: "_blank"
                },
                text: "\u26A1\uFE0F by SparkLoop",
                parent: e
            })
        }
          , Ht = ()=>{
            let t = ()=>x({
                html: "<!-- Sparkloop: this plan doesn't support widgets -->"
            })
              , e = {
                get: function() {
                    return t
                }
            };
            return new Proxy({},e)
        }
        ;
        var G = async(t,e,r="POST")=>{
            let n = O()
              , a = `${n.script_url}/${n.uuid}`;
            return await (await fetch(a + t, {
                method: r,
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(e),
                keepalive: !0
            })).json()
        }
          , Xe = t=>G("/add_subscriber", t).then(e=>e)
          , Wt = t=>G(`/campaigns/${t.campaign_id}/verify_script`, t).then(e=>e)
          , jt = t=>G(`/campaigns/${t.campaign_id}/test_referral`, t).then(e=>e)
          , Kt = (t,e)=>G(`/upscribes/${t}/add_log`, e).then(r=>r)
          , zt = t=>G(`/upscribes/${t}/verify_script`).then(e=>e)
          , qt = t=>G(`/partner_programs/${t}/verify_script`).then(e=>e)
          , Xt = t=>G(`/upscribes/${t}/test_widget`).then(e=>e)
          , Yt = t=>G(`/partner_programs/${t}/test_referral`).then(e=>e)
          , Zt = t=>G(`/partner_campaigns/${t}/partner_test`).then(e=>e)
          , Le = (t,e)=>G(`/upscribes/${t}/add_event`, e).then(r=>r);
        var Jt = t=>G("/check_referral_code", t).then(e=>e)
          , Qt = t=>G("/check_partner_code", t).then(e=>e)
          , er = (t,e)=>G("/get_subscriber", {
            subscriber: t,
            ...e
        }).then(r=>r.response === "error" ? Promise.reject(r.message) : Promise.resolve(r.subscriber))
          , tr = (t,e)=>G("/upsert_subscriber", {
            subscriber: t,
            ...e
        }).then(r=>r.response === "error" ? Promise.reject(r.message) : Promise.resolve(r.subscriber))
          , rr = t=>G(`/campaigns/${t.campaign_id}/send_email_invite`, t).then(e=>Promise.resolve(e)).catch(()=>Promise.reject());
        var pt = Dt(nr())
          , ve = "__sl"
          , ar = `${ve}-campaign`
          , or = `${ve}-utm_campaign`
          , sr = `${ve}-utm_source`
          , lr = `${ve}-origin`
          , cr = `${ve}-fingerprint`
          , ur = `${ve}-referrer`
          , Pe = class {
            constructor() {
                this.config = O(),
                this.visitor = {}
            }
            storeInfoCookies() {
                this.visitor.campaign && Z(`${ar}-${this.config.uuid}`, this.visitor.campaign),
                this.visitor.utm_source && Z(`${sr}-${this.config.uuid}`, this.visitor.utm_source),
                this.visitor.utm_campaign && Z(`${or}-${this.config.uuid}`, this.visitor.utm_campaign),
                this.visitor.origin && Z(`${lr}-${this.config.uuid}`, this.visitor.origin)
            }
            fetchCampaign() {
                let e = V.get(`${ur}-${this.config.uuid}`) ? V.get(`${ar}-${this.config.uuid}`) : E("sl_campaign");
                this.visitor.campaign = this.config.campaign || e || E("sl_campaign")
            }
            fetchUTMCampaign() {
                this.visitor.utm_campaign = this.config.utm_campaign || E("utm_campaign") || V.get(`${or}-${this.config.uuid}`)
            }
            fetchUTMSource() {
                let e = E("utm_source") || E("ref") || E("source")
                  , r = V.get(`${sr}-${this.config.uuid}`)
                  , n = document.referrer && new URL(document.referrer).hostname != window.location.hostname ? new URL(document.referrer).hostname.replace(/^www\./, "") : null;
                this.visitor.utm_source = this.config.utm_source || e || n || r
            }
            fetchOrigin() {
                this.visitor.origin = this.config.origin || V.get(`${lr}-${this.config.uuid}`)
            }
            async fetchAndVerifyReferrer() {
                let e = `${ur}-${this.config.uuid}`
                  , r = V.get(e);
                r && (this.storeInfoCookies(),
                this.visitor.referrer = r);
                let n = E("rh_ref") || E("rh_partner");
                if (n) {
                    let a = {
                        uuid: this.config.uuid,
                        referrer_code: n,
                        campaign_id: this.visitor.campaign,
                        utm_source: this.visitor.utm_source,
                        utm_campaign: this.visitor.utm_campaign
                    }, c;
                    try {
                        E("rh_partner") ? (c = await Qt(a),
                        console.log(`Partner Campaign Referral Code ${n} verified successfully`)) : (c = await Jt(a),
                        console.log("REQ:", c),
                        console.log(`Subscriber Referral code ${n} verified successfully`)),
                        c.response == "ok" ? (H("referrer-tracked"),
                        Z(e, n),
                        this.visitor.referrer = n,
                        this.storeInfoCookies()) : console.warn(c.message)
                    } catch (u) {
                        console.error(u)
                    }
                }
            }
            calculateFingerprint() {
                return new Promise((e,r)=>{
                    (window.requestIdleCallback || window.setTimeout)(()=>{
                        pt.default.get(a=>{
                            let c = pt.default.x64hash128(a.join(""), 31);
                            return e(c)
                        }
                        )
                    }
                    )
                }
                )
            }
            async fetchFingerprint() {
                let e = V.get(cr);
                if (e)
                    this.visitor.fingerprint = e;
                else
                    try {
                        let r = await this.calculateFingerprint();
                        Z(cr, r),
                        this.visitor.fingerprint = r
                    } catch (r) {
                        console.error(r)
                    }
            }
            async profile() {
                this.fetchCampaign(),
                this.fetchUTMSource(),
                this.fetchUTMCampaign(),
                this.fetchOrigin(),
                await this.fetchAndVerifyReferrer(),
                await this.fetchFingerprint(),
                B(this.visitor)
            }
        }
        ;
        var en = "__sl"
          , dr = `${en}-subscriber`
          , K = class {
            constructor() {
                this.config = O()
            }
            subscriberId() {
                return V.get(`${dr}-${this.config.uuid}`) || E("subscriber_id")
            }
            async fetch({subscriberId: e=null, campaign: r=null}={}) {
                let n = R() ? "fake_subscriber" : e || this.subscriberId();
                if (!n)
                    return Promise.reject("Subscriber ID or email not present");
                let a = de();
                r && (a.campaign_id = r);
                try {
                    let c = await er(n, a);
                    return this.store(c),
                    Promise.resolve(c)
                } catch (c) {
                    return Promise.reject(c)
                }
            }
            async upsert({subscriber: e=null, campaign: r=null}={}) {
                let n = R() ? "fake_subscriber" : e;
                if (!n)
                    return Promise.reject();
                let a = de();
                r && (a.campaign_id = r);
                try {
                    let c = await tr(n, a);
                    return this.store(c),
                    Promise.resolve(c)
                } catch (c) {
                    return Promise.reject(c)
                }
            }
            store(e) {
                P(e),
                Z(`${dr}-${this.config.uuid}`, e.id),
                H("subscriber-loaded"),
                console.log("Subscriber set", {
                    subscriber: e
                })
            }
        }
        ;
        var oe = class {
            constructor() {
                this.config = O(),
                this.upscribe = {}
            }
            async load(e=null) {
                if (this.fetchSettings(e),
                this.upscribe) {
                    if (this.trackGenerationEvent(),
                    this.upscribe.recommendations.length == 0) {
                        console.log("No recommendations available. Upscribe widget not loaded."),
                        this.upscribe.after_submission.redirect && (window.location.href = this.generateRedirectURL());
                        return
                    }
                    this.loadStyles();
                    let r = document.createElement("div");
                    r.id = "sl-overlay",
                    r.replaceChildren(this.generateWidget()),
                    document.body.appendChild(r),
                    document.body.classList.add("sl-upscribe-open")
                }
            }
            generateWidget() {
                this.trackUpscribeShownEvent();
                let e = P(), r = e.email, n = this.upscribe, a;
                n.after_submission.redirect && (a = this.generateRedirectURL());
                let c = x({
                    type: "button",
                    attributes: {
                        type: "submit"
                    },
                    text: n.button_label,
                    classes: "sl-button"
                })
                  , u = ()=>{
                    confirm("Your Upscribe widget was successfully verified. You will be redirected back to SparkLoop soon.") && (window.location.href = `${this.config.app_url}/partner_profile/upscribe/checklist?script_verified=true`)
                }
                  , d = x({
                    id: "sparkloop-upscribe",
                    classes: "sl-widget-body sl-zoomIn"
                })
                  , f = ()=>{
                    d.classList.remove("sl-zoomIn");
                    let w = document.querySelector("#sl-overlay") || d;
                    w && (w.addEventListener("animationend", ()=>{
                        w.remove()
                    }
                    , {
                        once: !0
                    }),
                    w.classList.add("sl-fadeOut"),
                    document.body.classList.remove("sl-upscribe-open"))
                }
                  , y = x({
                    classes: "sl-upscribe-thank-you-message",
                    text: n.after_submission.thank_you_message,
                    parent: d
                })
                  , S = x({
                    type: "form",
                    attributes: {
                        "data-sparkloop-form-ignore": !0
                    },
                    parent: d
                });
                S.addEventListener("submit", async function(w) {
                    w.preventDefault();
                    let L = S.querySelectorAll('input[type="checkbox"]:checked');
                    if (L.length > 0 && e) {
                        c.disabled = !0;
                        let U = Array.from(L).map(W=>W.value)
                          , z = {
                            subscriber: R() ? "fake_subscriber" : e.id,
                            partner_campaigns: U.join(",")
                        }
                          , ge = n.recommendations.map(W=>{
                            let Ne = U.includes(W.ref_code) ? "subscribed" : "skipped";
                            return {
                                partner_campaign_id: W.uuid,
                                type: Ne
                            }
                        }
                        );
                        if (j())
                            u();
                        else
                            try {
                                await Kt(n.uuid, z),
                                Le(n.uuid, {
                                    type: "subscribed_to_recommendation",
                                    recommendation_events: ge,
                                    email: r
                                }),
                                n.after_submission.redirect ? window.location.href = a.toString() : (S.style.display = "none",
                                y.classList.add("show", "sl-fadeIn"),
                                setTimeout(()=>{
                                    f()
                                }
                                , 2500))
                            } catch (W) {
                                console.log(W)
                            } finally {
                                c.disabled = !1
                            }
                    }
                }),
                R() && d.classList.add("no-animation"),
                j() && x({
                    parent: S,
                    classes: "sl-upscribe-verification",
                    html: "To complete the verification, click on the submit button. <br/>Don't worry: no data will be recorded."
                });
                let A = x({
                    type: "header",
                    parent: S
                });
                n.header && x({
                    type: "h2",
                    text: n.header,
                    parent: A
                }),
                x({
                    type: "p",
                    text: n.subheader,
                    parent: A
                });
                let k = x({
                    type: "ul",
                    parent: S
                });
                n.recommendations.forEach(w=>{
                    let L = x({
                        type: "li",
                        parent: k
                    })
                      , U = x({
                        type: "label",
                        attributes: {
                            for: `partner_campaign_ ${w.ref_code}`
                        },
                        parent: L
                    })
                      , z = x({
                        type: "main",
                        parent: U
                    });
                    x({
                        type: "figure",
                        attributes: {
                            style: `background-image: url("${w.publication_logo}")`
                        },
                        parent: z
                    });
                    let ge = x({
                        type: "div",
                        parent: z
                    });
                    x({
                        type: "h3",
                        text: w.publication_name,
                        parent: ge
                    }),
                    x({
                        type: "p",
                        text: w.description,
                        parent: ge
                    });
                    let W = x({
                        parent: U,
                        classes: "sl-upscribe-checkbox"
                    });
                    x({
                        type: "input",
                        id: `partner_campaign_ ${w.ref_code}`,
                        attributes: {
                            type: "checkbox",
                            checked: "true",
                            name: "partner_campaigns[]",
                            value: w.ref_code
                        },
                        parent: W
                    }).addEventListener("change", function(At) {
                        let at = k.querySelectorAll('input[type="checkbox"]:checked');
                        c.disabled = at.length === 0
                    }),
                    x({
                        type: "span",
                        parent: W
                    })
                }
                ),
                n.recommendations.length === 0 && x({
                    type: "div",
                    classes: "sl-instructions",
                    text: "You have no recommendations.",
                    parent: S
                });
                let D = x({
                    type: "footer",
                    parent: S
                });
                if (n.recommendations.length > 0 && (D.appendChild(c),
                x({
                    type: "a",
                    text: n.skip_link,
                    attributes: {
                        href: n.after_submission.redirect ? a.toString() : "#"
                    },
                    classes: "sl-skip-link",
                    parent: D
                }).addEventListener("click", function(L) {
                    if (j())
                        L.preventDefault(),
                        u();
                    else {
                        let U = n.recommendations.map(z=>({
                            partner_campaign_id: z.uuid,
                            type: "skipped"
                        }));
                        Le(n.uuid, {
                            type: "skipped_all_recommendations",
                            recommendation_events: U,
                            email: r
                        }),
                        n.after_submission.redirect ? ((document.querySelector("#sl-overlay") || d).remove(),
                        document.body.classList.remove("sl-upscribe-open")) : (L.preventDefault(),
                        f())
                    }
                })),
                n.styling.powered_by_enabled) {
                    let w = x({
                        type: "p",
                        id: "sl-hub-powered-by",
                        parent: D
                    });
                    Vt("upscribe", w, "upscribe")
                }
                return d
            }
            trackUpscribeShownEvent() {
                if (R() || j())
                    return;
                let e = this.upscribe.recommendations.map(r=>({
                    type: "shown",
                    partner_campaign_id: r.uuid
                }));
                Le(this.upscribe.uuid, {
                    type: "shown",
                    recommendation_events: e,
                    email: P().email
                })
            }
            trackGenerationEvent() {
                if (R() || j())
                    return;
                let e = this.upscribe.recs_insights;
                Le(this.upscribe.uuid, {
                    type: "generated",
                    stats: e.stats,
                    unfilled_reasons: e.unfilled_reasons,
                    email: P().email
                })
            }
            loadStyles() {
                this.upscribe.recommendations.forEach(e=>ke(e.publication_logo)),
                Ae("upscribe"),
                document.documentElement.style.setProperty("--sl-widgets-upscribe-primary-color", this.upscribe.styling.colors.primary),
                ze("upscribe", this.upscribe.styling.custom_css)
            }
            fetchSettings(e) {
                this.upscribe = Te(e)
            }
            generateRedirectURL() {
                let e = new URL(this.upscribe.after_submission.redirect_url)
                  , r = P();
                r.email && e.searchParams.append("email", r.email),
                e.searchParams.append("ref", this.config.widgets.upscribe_ref);
                let n = window.location.search;
                return new URLSearchParams(n).forEach(function(c, u) {
                    e.searchParams.append(u, c)
                }),
                e
            }
        }
        ;
        var se = class {
            constructor() {
                this.config = O(),
                this.formId = 0,
                this.submittedFormsIds = []
            }
            track() {
                !this.config.scan_forms || (this.trackStandardForms(),
                document.addEventListener("pico.user.registered", e=>this.trackPicoForms(e)),
                document.addEventListener("om.Optin.init.submit", e=>this.trackOptinMonsterForms(e)),
                window.addEventListener("klaviyoForms", e=>this.trackKlaviyoForms(e)),
                document.addEventListener("MemberSpace.conversion", e=>this.trackMemberSpaceForms(e)),
                document.addEventListener("ckjs:submission:complete", e=>this.trackConvertKitForms(e)),
                document.addEventListener("emailoctopus:form.success", e=>this.trackEmailOctopusForms(e)),
                this.trackElementorForms(),
                this.trackSquareSpaceForms(),
                this.trackDynamicForms())
            }
            trackForm(e) {
                e.hasAttribute("data-sparkloop-form-ignore") || e.hasAttribute("data-sv-form") || e.hasAttribute("data-sparkloop-form-id") || (this.formId++,
                e.dataset.sparkloopFormId = this.formId,
                console.log("tracking form", e),
                e.addEventListener("submit", r=>this.combFormForEmail(e)))
            }
            trackStandardForms() {
                document.querySelectorAll(this.config.form_selector || "form").forEach(r=>{
                    this.trackForm(r)
                }
                )
            }
            trackDynamicForms() {
                let e = n=>{
                    n.forEach(a=>{
                        a.target.querySelectorAll("form").forEach(c=>{
                            this.trackForm(c)
                        }
                        )
                    }
                    )
                }
                ;
                new MutationObserver(e).observe(document.body, {
                    childList: !0,
                    subtree: !0
                })
            }
            trackKlaviyoForms(e) {
                console.log("klaviyo form submitted", e),
                console.log("klaviyo event type", e.detail.type);
                let r, n = e.detail.type;
                if (n == "submit" || n == "stepSubmit") {
                    let a = document.querySelector(`.klaviyo-form-${e.detail.formId}`);
                    a && (r = a.querySelector("form"));
                    let c = e.detail.metaData.$email;
                    if (c)
                        B({
                            email: c.trim()
                        });
                    else
                        return;
                    n == "submit" ? this.captureSubscriber({
                        form: r
                    }) : n == "stepSubmit" && setTimeout(this.captureSubscriber({
                        form: r
                    }), 1e3)
                }
            }
            trackPicoForms(e) {
                console.log("pico form submitted", e),
                console.log("pico event email", e.detail.email.trim()),
                B({
                    email: e.detail.email.trim()
                }),
                this.captureSubscriber()
            }
            trackOptinMonsterForms(e) {
                console.log("optinMonster form submitted", e),
                console.log("optinMonster event email", e.detail.Optin.data.fields.email.trim()),
                B({
                    email: e.detail.Optin.data.fields.email.trim()
                }),
                this.captureSubscriber()
            }
            trackElementorForms() {
                if (window.jQuery) {
                    let e = !!jQuery.fn.on
                      , r = n=>this.combFormForEmail(n.target);
                    e ? jQuery(document).on("submit_success", r) : jQuery(document).bind("submit_success", r)
                }
            }
            trackMemberSpaceForms({detail: e}) {
                console.log("memberSpace form submitted", e);
                let {order: r, plan: n, member: a} = e;
                B({
                    email: a.email.trim()
                }),
                this.captureSubscriber()
            }
            trackSquareSpaceForms() {
                var e = this;
                typeof Y < "u" && typeof Y.all == "function" && Y.all("form").each(function(r) {
                    r.on("submit", function(n) {
                        let a;
                        typeof r._node == "string" ? a = document.querySelector(r._node) : a = r._node,
                        a && e.combFormForEmail(a)
                    })
                })
            }
            trackConvertKitForms(e) {
                console.log("ConvertKit form submitted", e),
                console.log("ConvertKit event email", e.detail.email_address.trim()),
                B({
                    email: e.detail.email_address.trim()
                }),
                e.detail.recommendations && B({
                    upscribeBlocked: !0
                }),
                this.captureSubscriber({
                    form: e.target
                })
            }
            trackEmailOctopusForms(e) {
                console.log("emailoctopus form submitted", e),
                console.log("emailoctopus event detail", e.detail);
                let r = document.querySelector("[eo-block='form']").querySelector("form") || document.querySelector(".emailoctopus-form");
                if (r) {
                    let n = e.detail.contact.email_address || r.querySelector("input[type=email]").value;
                    B({
                        email: n.trim()
                    }),
                    this.captureSubscriber({
                        form: r
                    })
                }
            }
            combFormForEmail(e) {
                if (this.submittedFormsIds.includes(e.dataset.formId))
                    return;
                let r = ft(e);
                r && (H("form-submitted"),
                console.log("email input detected", r),
                this.submittedFormsIds.push(e.dataset.formId),
                B({
                    email: r.value.trim()
                }),
                this.captureSubscriber({
                    form: e
                }))
            }
            async captureSubscriber({form: e=null}={}) {
                let r = de();
                if (!r.email) {
                    console.log("No email found in the form submission");
                    return
                }
                if (console.log("\u2705 Form submission tracked succesfully. Email captured: " + r.email),
                N() && (window.onbeforeunload = function() {
                    return "Are you sure you want to leave?"
                }
                ),
                X())
                    if (ue()) {
                        this.completePartnerVerification();
                        return
                    } else {
                        if (xe()) {
                            this.completeCampaignVerification(r);
                            return
                        }
                        if (j()) {
                            this.completeUpscribeVerification(e);
                            return
                        }
                        if (Ke()) {
                            this.completePartnerProgramVerification();
                            return
                        }
                    }
                try {
                    let n = await Xe(r);
                    P(n.subscriber),
                    this.loadUpscribe(e)
                } catch (n) {
                    console.log(n)
                }
            }
            async completePartnerVerification() {
                N() && console.log("DEBUG: completePartnerVerification() called");
                try {
                    let e = E("SLVerifyInstall");
                    if (e) {
                        let r = await Zt(e);
                        N() && console.log("DEBUG: completePartnerVerification() response", r),
                        Ee("[Step 3 of 3] Referral tracking working successfully", "Your test referral was successful. You can now safely recommend this publication via your partner link."),
                        setTimeout(()=>{
                            window.open(`${this.config.app_url}/partner_profile/partner_campaigns/${e}`)
                        }
                        , 2500)
                    }
                } catch (e) {
                    console.log(e.message)
                }
            }
            async completeCampaignVerification(e) {
                try {
                    let r = E("SLVerifyInstall");
                    e.campaign_id = r,
                    await jt(e),
                    Ee("[Step 3 of 3] Referral tracking working successfully", `SparkLoop was able to track the referral correctly via your form.

PS: If your form normally redirects to another page, don't worry. We have temporarily disabled the redirect to test the referral.

\u{1F449} you'll be redirected back to SparkLoop in a few seconds...`),
                    setTimeout(()=>{
                        window.open(`${this.config.app_url}/campaigns/${r}/checklist/script?verified=true`, "_blank")
                    }
                    , 4e3)
                } catch (r) {
                    console.log(r.message)
                }
            }
            async completeUpscribeVerification(e) {
                N() && console.log("DEBUG: completeUpscribeVerification() called");
                try {
                    let r = E("SLVerifyInstall");
                    await Xt(r),
                    N() && console.log(`DEBUG: Upscribe ID ${r}`),
                    this.loadUpscribe(e),
                    Ee("[Step 3 of 3] Signup tracking working successfully", "SparkLoop was able to track the signup correctly via your form.<br/><br/>PS: If your form normally redirects to another page, don't worry. We have temporarily disabled the redirect to test the referral.<br/><br/>\u{1F449} you'll be redirected back to SparkLoop in a few seconds...")
                } catch (r) {
                    console.log(r.message)
                }
            }
            async completePartnerProgramVerification() {
                N() && console.log("DEBUG: completePartnerProgramVerification() called");
                try {
                    let e = E("SLVerifyInstall");
                    await Yt(e),
                    N() && console.log(`DEBUG: PartnerProgram ID ${testPartnerProgramReferral}`),
                    Ee("[Step 3 of 3] Signup tracking working successfully", "SparkLoop was able to track the signup correctly via your form.<br/><br/>PS: If your form normally redirects to another page, don't worry. We have temporarily disabled the redirect to test the referral.<br/><br/>\u{1F449} you'll be redirected back to SparkLoop in a few seconds..."),
                    setTimeout(()=>{
                        window.open(`${this.config.app_url}/partner_programs/${e}/checklist/script?verified=true`, "_blank")
                    }
                    , 4e3)
                } catch (e) {
                    console.log(e.message)
                }
            }
            getUpscribeId(e) {
                if (N() && console.log("DEBUG: getUpscribeId() called"),
                N() && console.log(`DEBUG: form ${e}`),
                xe())
                    return;
                let r = this.config.widgets.upscribes.find(n=>{
                    if (!j() && !n.enabled)
                        return console.log(`Upscribe ${n.uuid} is not enabled`),
                        !1;
                    if (n.visibility.installation != "widget")
                        return console.log(`Upscribe ${n.uuid} is not set to be displayed as a widget`),
                        !1;
                    if (n.visibility.all_pages)
                        return !0;
                    let a = window.location.origin + window.location.pathname;
                    a = a.replace(/\/$/, "");
                    let c = n.visibility.rules.find(u=>{
                        let d = Rt(u);
                        return a.match(d)
                    }
                    );
                    return c ? (console.log(`Upscribe ${n.uuid} is set to be displayed on ${c}`),
                    !0) : (console.log(`Can't find a matching rule for Upscribe ${n.uuid}`),
                    !1)
                }
                );
                return N() && console.log(`DEBUG: upscribe ${r}`),
                r ? e ? e.dataset.sparkloopUpscribe !== "false" ? r.uuid : null : r.uuid : null
            }
            async loadUpscribe(e=null) {
                if (N() && console.log("DEBUG: loadUpscribe() called"),
                SL.config.upscribeDisabled) {
                    console.log("Upscribe is disabled");
                    return
                }
                if (ue()) {
                    console.log("Upscribe is disabled in partner mode");
                    return
                }
                if (B().upscribeShown) {
                    console.log("Upscribe has already been shown to this visitor");
                    return
                }
                if (B().upscribeBlocked) {
                    console.log("Upscribe has been blocked for this visitor");
                    return
                }
                let r = this.getUpscribeId(e);
                N() && console.log(`DEBUG: upscribeId ${r}`),
                r && (B({
                    upscribeShown: !0
                }),
                new oe().load(r))
            }
        }
        ;
        var tn = {
            "": ["<em>", "</em>"],
            _: ["<strong>", "</strong>"],
            "*": ["<strong>", "</strong>"],
            "~": ["<s>", "</s>"],
            "\n": ["<br />"],
            " ": ["<br />"],
            "-": ["<hr />"]
        };
        function fr(t) {
            return t.replace(RegExp("^" + (t.match(/^(\t| )+/) || "")[0], "gm"), "")
        }
        function Be(t) {
            return (t + "").replace(/"/g, "&quot;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
        }
        function Q(t, e) {
            var r, n, a, c, u, d = /((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm, f = [], y = "", S = e || {}, A = 0;
            function k(w) {
                var L = tn[w[1] || ""]
                  , U = f[f.length - 1] == w;
                return L ? L[1] ? (U ? f.pop() : f.push(w),
                L[0 | U]) : L[0] : w
            }
            function D() {
                for (var w = ""; f.length; )
                    w += k(f[f.length - 1]);
                return w
            }
            for (t = t.replace(/^\[(.+?)\]:\s*(.+)$/gm, function(w, L, U) {
                return S[L.toLowerCase()] = U,
                ""
            }).replace(/^\n+|\n+$/g, ""); a = d.exec(t); )
                n = t.substring(A, a.index),
                A = d.lastIndex,
                r = a[0],
                n.match(/[^\\](\\\\)*\\$/) || ((u = a[3] || a[4]) ? r = '<pre class="code ' + (a[4] ? "poetry" : a[2].toLowerCase()) + '"><code' + (a[2] ? ' class="language-' + a[2].toLowerCase() + '"' : "") + ">" + fr(Be(u).replace(/^\n+|\n+$/g, "")) + "</code></pre>" : (u = a[6]) ? (u.match(/\./) && (a[5] = a[5].replace(/^\d+/gm, "")),
                c = Q(fr(a[5].replace(/^\s*[>*+.-]/gm, ""))),
                u == ">" ? u = "blockquote" : (u = u.match(/\./) ? "ol" : "ul",
                c = c.replace(/^(.*)(\n|$)/gm, "<li>$1</li>")),
                r = "<" + u + ">" + c + "</" + u + ">") : a[8] ? r = '<img src="' + Be(a[8]) + '" alt="' + Be(a[7]) + '">' : a[10] ? (y = y.replace("<a>", '<a href="' + Be(a[11] || S[n.toLowerCase()]) + '">'),
                r = D() + "</a>") : a[9] ? r = "<a>" : a[12] || a[14] ? r = "<" + (u = "h" + (a[14] ? a[14].length : a[13] > "=" ? 1 : 2)) + ">" + Q(a[12] || a[15], S) + "</" + u + ">" : a[16] ? r = "<code>" + Be(a[16]) + "</code>" : (a[17] || a[1]) && (r = k(a[17] || "--"))),
                y += n,
                y += r;
            return (y + t.substring(A) + D()).replace(/^\n+|\n+$/g, "")
        }
        var g = x
          , Ie = class {
            constructor({referral_hub: e={}}={}) {
                this.config = O(),
                this.referral_hub = e
            }
            animateCSS = (e,r)=>new Promise((n,a)=>{
                e.classList.add(r);
                function c(u) {
                    u.stopPropagation(),
                    e.classList.remove(r),
                    n("Animation ended")
                }
                e.addEventListener("animationend", c, {
                    once: !0
                })
            }
            );
            socialSharingLink = (e,r)=>{
                let n;
                return r === "facebook" ? n = "https://www.facebook.com/sharer.php?u=" + encodeURIComponent(this.referralLink("facebook")) : r === "twitter" ? n = "https://twitter.com/intent/tweet?text=" + encodeURIComponent(e.twitter.message + `

` + this.referralLink("twitter")) : r === "email" ? n = "mailto:?subject=" + encodeURIComponent(e.email.subject) + "&body=" + encodeURIComponent(e.email.message + `

` + this.referralLink("email")) : r === "whatsapp" ? n = "https://api.whatsapp.com/send?text=" + encodeURIComponent(e.whatsapp.message + `

` + this.referralLink("whatsapp")) : r === "facebook_messenger" ? n = this.messengerLink() : r === "linkedin" ? n = "https://www.linkedin.com/shareArticle?mini=true&url=" + encodeURIComponent(this.referralLink("linkedin")) : r === "reddit" ? n = "https://www.reddit.com/submit?url=" + encodeURIComponent(this.referralLink("reddit")) + "&title=" + e.reddit.message : r === "telegram" ? n = "https://t.me/share/url?url=" + encodeURIComponent(this.referralLink("telegram")) + "&text" + encodeURIComponent(e.telegram.message) : r === "line" && (n = "https://line.me/R/msg/text/?" + encodeURIComponent(e.line.message + `

` + this.referralLink("line"))),
                n
            }
            ;
            referralLink = (e=null)=>{
                let r = P();
                if (r) {
                    let n = r.referral_link;
                    return e && (n += `?utm_source=${e}`),
                    n
                } else
                    return this.config.app_url + "?rh_ref=ABC123"
            }
            ;
            messengerLink = ()=>{
                let e;
                return /Mobi|Android/i.test(navigator.userAgent) ? e = "fb-messenger://share?redirect_uri=" + encodeURIComponent(this.config.default_url) + "&amp;link=" + encodeURIComponent(this.referralLink("facebook_messenger")) : e = "https://www.facebook.com/dialog/send?app_id=189109296592814&link=" + encodeURIComponent(this.referralLink("facebook_messenger")) + "&redirect_uri=" + encodeURIComponent(this.config.default_url),
                e
            }
            ;
            poweredByLink = (e,r,n="")=>{
                let a = `https://sparkloop.app/${n}?utm_campaign=powered-by&utm_source=${e}&utm_medium=${this.config.uuid}`;
                return g({
                    type: "a",
                    attributes: {
                        href: a,
                        target: "_blank"
                    },
                    text: "\u26A1\uFE0F by SparkLoop",
                    parent: r
                })
            }
            ;
            formWidget = ({onSubmit: e})=>{
                let {form_widget: r} = this.referral_hub;
                r.cover_image.enabled && ke(r.cover_image.url);
                let n = g({
                    id: "sl-form-screen",
                    classes: "sl-widget-body"
                });
                if (r.cover_image.enabled) {
                    n.classList.add("sl-cover-image", "sl-cover-image--" + r.cover_image.position);
                    let w = g({
                        type: "figure",
                        parent: n
                    });
                    g({
                        type: "img",
                        attributes: {
                            src: r.cover_image.url
                        },
                        parent: w
                    })
                }
                let a = g({
                    type: "section",
                    id: "sl-form-section",
                    classes: "sl-form-section",
                    parent: n
                })
                  , c = g({
                    classes: "sl-form-content",
                    parent: a
                });
                r.header && g({
                    type: "h2",
                    html: Q(r.header),
                    parent: c
                }),
                r.subheader && g({
                    type: "p",
                    html: Q(r.subheader),
                    parent: c
                });
                let u = g({
                    type: "form",
                    parent: a,
                    attributes: {
                        "data-sparkloop-form-ignore": !0
                    }
                })
                  , d = g({
                    classes: "sl-form-container",
                    parent: u
                });
                if (r.form.name_input.enabled) {
                    let w = {
                        type: "text",
                        name: "name",
                        placeholder: r.form.name_input.placeholder
                    };
                    R() || (w.required = !0),
                    g({
                        type: "input",
                        attributes: w,
                        parent: d
                    })
                }
                let f = {
                    type: "email",
                    name: "email",
                    placeholder: r.form.email_input.placeholder
                };
                R() || (f.required = !0);
                let y = g({
                    type: "input",
                    attributes: f,
                    parent: d
                })
                  , S = g({
                    type: "button",
                    attributes: {
                        type: "submit"
                    },
                    classes: "sl-button",
                    text: r.form.button.label,
                    parent: d
                });
                u.addEventListener("submit", w=>{
                    w.preventDefault(),
                    w.stopPropagation(),
                    y.value.length > 0 && (S.disabled = !0,
                    e(y.value).catch(L=>{
                        console.log(L),
                        S.disabled = !1
                    }
                    ))
                }
                );
                let A = g({
                    type: "footer",
                    parent: a
                });
                r.tabs.how_it_works.enabled && (g({
                    type: "a",
                    attributes: {
                        href: "#"
                    },
                    text: r.tabs.how_it_works.label,
                    parent: A
                }).addEventListener("click", L=>{
                    L.preventDefault(),
                    L.stopPropagation(),
                    this.animateCSS(a, "sl-fadeOutLeft").then(U=>{
                        a.style.display = "none",
                        k.style.display = "flex"
                    }
                    )
                }
                ),
                g({
                    type: "span",
                    text: "|",
                    parent: A
                })),
                r.tabs.terms.enabled && (g({
                    type: "a",
                    attributes: {
                        href: r.tabs.terms.url
                    },
                    text: r.tabs.terms.label,
                    parent: A
                }),
                g({
                    type: "span",
                    text: "|",
                    parent: A
                })),
                this.referral_hub.styling.powered_by_enabled && this.poweredByLink("referral-hub", A);
                let k = g({
                    type: "section",
                    id: "sl-how-it-works-section",
                    classes: "sl-section-large",
                    parent: n
                });
                return k.style.display = "none",
                g({
                    type: "a",
                    classes: "sl-back-button",
                    html: `
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
              <g>
                <path d="M256,0C114.8,0,0,114.8,0,256s114.8,256,256,256s256-114.8,256-256S397.2,0,256,0z M256,39.4
                  c119.8,0,216.6,96.8,216.6,216.6S375.8,472.6,256,472.6S39.4,375.8,39.4,256S136.2,39.4,256,39.4z M196.9,177.2L118.2,256
                  l78.8,78.8v-59.1h196.9v-39.4H196.9V177.2z"/>
              </g>
              </svg>
              <span>Back</span>
            `,
                    attributes: {
                        href: "#"
                    },
                    parent: k
                }).addEventListener("click", w=>{
                    w.preventDefault(),
                    w.stopPropagation(),
                    this.animateCSS(k, "sl-fadeOutRight").then(L=>{
                        a.style.display = "flex",
                        k.style.display = "none"
                    }
                    )
                }
                ),
                g({
                    type: "h2",
                    text: r.tabs.how_it_works.label,
                    parent: k
                }),
                g({
                    type: "article",
                    html: Q(r.tabs.how_it_works.content),
                    parent: k
                }),
                n
            }
            ;
            rewardsElement = ()=>{
                let e = P();
                if (!e)
                    return;
                let {hub_widget: r} = this.referral_hub
                  , n = r.rewards.list
                  , a = r.rewards.layout
                  , c = g({
                    type: "ul",
                    id: "sl-rewards-section"
                });
                return c.classList.add(`sl-rewards-layout-${a}`),
                n.forEach((u,d)=>{
                    d++;
                    let f = e.rewards_won.includes(u.id)
                      , y = g({
                        type: "li",
                        classes: "sl-reward",
                        parent: c
                    });
                    f && y.classList.add("sl-reward-won");
                    let S = g({
                        type: "figure",
                        classes: "sl-reward-image",
                        parent: y
                    });
                    S.style.backgroundImage = 'url("' + u.image + '")';
                    let A = g({
                        classes: "sl-reward-referrals",
                        parent: S
                    });
                    g(f ? {
                        type: "span",
                        parent: A,
                        html: `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 36 36'>
                            <path fill='#fff' d="M12.8,28.7l-9.5-9.5c-0.4-0.4-0.4-1.1,0-1.6l1.5-1.5c0.4-0.4,1.1-0.4,1.6,0l7.2,7.2   l16-16c0.4-0.4,1.1-0.4,1.6,0l1.5,1.5c0.4,0.4,0.4,1.1,0,1.6L14.4,28.7C13.9,29.1,13.2,29.1,12.8,28.7z"/>
                          </svg>`
                    } : {
                        type: "span",
                        text: u.referrals,
                        parent: A
                    });
                    let k = g({
                        classes: "sl-reward-info",
                        parent: y
                    });
                    if (g({
                        type: "h4",
                        text: u.name,
                        parent: k
                    }),
                    u.description)
                        if (a == "horizontal") {
                            let D = g({
                                classes: "sl-reward-description hide",
                                parent: S
                            });
                            g({
                                type: "p",
                                text: u.description,
                                parent: D
                            }),
                            g({
                                type: "span",
                                parent: k,
                                html: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill='currentColor'>
                          <path fill='currentColor' d="M12,2A10,10,0,1,0,22,12,10.01114,10.01114,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,12,20Zm0-8.5a1,1,0,0,0-1,1v3a1,1,0,0,0,2,0v-3A1,1,0,0,0,12,11.5Zm0-4a1.25,1.25,0,1,0,1.25,1.25A1.25,1.25,0,0,0,12,7.5Z"/>
                        </svg>`
                            }).addEventListener("click", function(L) {
                                D.classList.toggle("hide")
                            })
                        } else
                            g({
                                type: "p",
                                text: u.description,
                                parent: k
                            });
                    n.length < 6 || d == 1 || d == n.length || (n.length % 5 == 0 ? d % 5 == 0 && (y.classList.add("sl-before-break"),
                    g({
                        type: "span",
                        classes: "sl-reward-break",
                        parent: c
                    })) : n.length % 4 == 0 ? d % 4 == 0 && (y.classList.add("sl-before-break"),
                    g({
                        type: "span",
                        classes: "sl-reward-break",
                        parent: c
                    })) : n.length % 3 == 0 ? d % 3 == 0 && (y.classList.add("sl-before-break"),
                    g({
                        type: "span",
                        classes: "sl-reward-break",
                        parent: c
                    })) : d % 4 == 0 && (y.classList.add("sl-before-break"),
                    g({
                        type: "span",
                        classes: "sl-reward-break",
                        parent: c
                    })))
                }
                ),
                c
            }
            ;
            sharingElement = ()=>{
                if (!P())
                    return;
                let {hub_widget: r} = this.referral_hub
                  , n = g({
                    type: "section",
                    id: "sl-sharing-section"
                })
                  , a = g({
                    id: "sl-sharinglink-container",
                    parent: n
                });
                if (g({
                    type: "p",
                    text: r.sharing.referral_link.header,
                    parent: a
                }),
                a.appendChild(this.referralLinkElement()),
                r.sharing.social_links.enabled) {
                    let c = g({
                        id: "sl-sociallinks-container",
                        parent: n
                    });
                    g({
                        type: "p",
                        text: r.sharing.social_links.header,
                        parent: c
                    }),
                    c.appendChild(this.socialIconsElement())
                }
                if (r.sharing.email_invitation.enabled) {
                    let c = g({
                        id: "sl-emailinvitation-container",
                        parent: n
                    });
                    g({
                        type: "p",
                        text: r.sharing.email_invitation.header,
                        parent: c
                    });
                    let u = g({
                        type: "span"
                    });
                    c.appendChild(this.emailInvitationElement(u)),
                    c.appendChild(u)
                }
                return n
            }
            ;
            referralLinkElement = ()=>{
                let e = P();
                if (!e)
                    return;
                let {sharing: r} = this.referral_hub.hub_widget
                  , n = g({
                    type: "form",
                    attributes: {
                        "data-sparkloop-form-ignore": !0
                    }
                })
                  , a = g({
                    type: "input",
                    parent: n,
                    attributes: {
                        type: "text",
                        readonly: !0,
                        value: e.referral_link
                    }
                })
                  , c = g({
                    type: "button",
                    classes: "sl-button",
                    parent: n,
                    text: r.referral_link.button.label
                });
                return c.addEventListener("click", u=>{
                    u.preventDefault(),
                    Gt(a, c, r.referral_link.button.label)
                }
                ),
                n
            }
            ;
            statsElement = ()=>{
                let e = P();
                if (!e)
                    return;
                let {referrals: r} = this.referral_hub.hub_widget
                  , n = g({
                    type: "section",
                    id: "sl-referrals-section"
                });
                if (r.confirmed.enabled) {
                    let a = g({
                        id: "sl-confirmed-referrals",
                        parent: n
                    });
                    g({
                        type: "h3",
                        text: qe(e.referrals.confirmed),
                        parent: a
                    }),
                    g({
                        type: "span",
                        text: r.confirmed.label,
                        parent: a
                    })
                }
                if (r.pending.enabled) {
                    let a = g({
                        id: "sl-pending-referrals",
                        parent: n
                    });
                    g({
                        type: "h3",
                        text: qe(e.referrals.pending),
                        parent: a
                    }),
                    g({
                        type: "span",
                        text: r.pending.label,
                        parent: a
                    })
                }
                if (r.next.enabled) {
                    let a = g({
                        id: "sl-next-referrals",
                        parent: n
                    });
                    g({
                        type: "h3",
                        text: qe(e.next_reward),
                        parent: a
                    }),
                    g({
                        type: "span",
                        text: r.next.label,
                        parent: a
                    })
                }
                return n
            }
            ;
            socialIconsElement = ()=>{
                if (!P())
                    return;
                let {hub_widget: r} = this.referral_hub
                  , n = g({
                    id: "sl-sociallinks-icons"
                });
                return ["twitter", "facebook", "email", "whatsapp", "linkedin", "telegram"].forEach(c=>{
                    if (r.sharing.social_links.socials[c].enabled) {
                        let u = g({
                            type: "a",
                            classes: "sl-social",
                            id: `sl-social-${c}`,
                            attributes: {
                                title: `Share on ${c}`,
                                href: this.socialSharingLink(r.sharing.social_links.socials, c)
                            }
                        });
                        u.style.backgroundImage = "url(https://sparkloop-static-images.s3-us-west-1.amazonaws.com/" + c + ".png)",
                        n.appendChild(u)
                    }
                }
                ),
                n
            }
            ;
            emailInvitationElement = e=>{
                let r = P();
                if (!r)
                    return;
                let {email_invitation: n} = this.referral_hub.hub_widget.sharing
                  , a = g({
                    type: "form",
                    attributes: {
                        "data-sparkloop-form-ignore": !0
                    }
                })
                  , c = g({
                    type: "input",
                    parent: a,
                    classes: "sl-widget-input",
                    attributes: {
                        type: "text",
                        placeholder: n.placeholder
                    }
                })
                  , u = g({
                    type: "button",
                    classes: "sl-button",
                    parent: a,
                    text: n.button.label
                });
                return u.addEventListener("click", async d=>{
                    d.preventDefault(),
                    d.stopPropagation(),
                    u.disabled = !0,
                    e.innerText = "";
                    let f = c.value.trim();
                    if (f.length > 0) {
                        let y = {
                            campaign_id: this.referral_hub.campaign_id,
                            subscriber: r.id,
                            recipients: f
                        };
                        try {
                            await rr(y),
                            c.value = "",
                            e.innerText = n.confirmation_message
                        } catch {
                            e.innerText = "Server error. Please try again."
                        } finally {
                            u.disabled = !1
                        }
                    }
                }
                ),
                a
            }
            ;
            hubWidget = ()=>{
                if (!P())
                    return;
                let {hub_widget: r} = this.referral_hub;
                r.rewards.list.forEach(c=>{
                    ke(c.image)
                }
                );
                let n = g({
                    id: "sl-hub-screen",
                    classes: "sl-widget-body"
                });
                if (r.header && r.header.trim().length > 0 || r.subheader && r.subheader.trim().length > 0) {
                    let c = g({
                        type: "header",
                        parent: n
                    });
                    r.header && r.header.trim().length > 0 && g({
                        type: "h2",
                        html: Q(r.header),
                        parent: c
                    }),
                    r.subheader && r.subheader.trim().length > 0 && g({
                        type: "p",
                        html: Q(r.subheader),
                        parent: c
                    })
                }
                r.rewards.enabled && r.rewards.list.length > 0 && n.appendChild(this.rewardsElement());
                let a = g({
                    type: "main",
                    id: "sl-hub-main",
                    parent: n
                });
                if (a.appendChild(this.sharingElement()),
                (r.referrals.confirmed.enabled || r.referrals.pending.enabled || r.referrals.next.enabled) && a.appendChild(this.statsElement()),
                this.referral_hub.styling.powered_by_enabled) {
                    let c = g({
                        id: "sl-hub-powered-by",
                        parent: n
                    });
                    this.poweredByLink("referral-hub", c)
                }
                return n
            }
        }
        ;
        var ye = class {
            constructor() {
                this.config = O(),
                this.referral_hub = {}
            }
            async load() {
                if (this.loadDefaultStyles(),
                this.config.widgets.referral_hubs.length && (this.fetchReferralHubSettings(),
                Object.keys(this.referral_hub).length)) {
                    try {
                        await new K().fetch({
                            campaign: this.referral_hub.campaign_id
                        })
                    } catch {
                        console.error("Subscriber was not found")
                    }
                    R() && dt() && q("Referral Hub Preview", 'To visualize the hub widget, signup using any name<br/>and "test@test.com" as email address.<br>When test mode is enabled no email will be recorded.'),
                    this.loadReferralHubStyles(),
                    this.loadReferralHubWidget(),
                    this.generateReferralHubElements()
                }
            }
            components() {
                return Ft() ? new Ie({
                    referral_hub: this.referral_hub
                }) : Ht()
            }
            fetchReferralHubSettings(e) {
                let r = this.config.widgets.referral_hubs;
                if (e)
                    this.referral_hub = r.find(n=>n.campaign_id == e);
                else {
                    let n = document.querySelector("#sparkloop-referral-hub") || document.querySelector("[class*=sparkloop-][data-campaign-id]");
                    if (n) {
                        let a = n.dataset.campaignId;
                        this.referral_hub = a ? r.find(c=>c.campaign_id == a) : r[0]
                    }
                }
            }
            loadReferralHubWidget() {
                let e = document.querySelector("#sparkloop-referral-hub");
                !e || (P() ? e.replaceChildren(this.generateHubWidget()) : e.replaceChildren(this.generateFormWidget()))
            }
            generateFormWidget() {
                return this.components().formWidget({
                    onSubmit: e=>this.validateAndHydrateSubscriber(e)
                })
            }
            generateHubWidget() {
                return this.components().hubWidget()
            }
            generateRewardsElement() {
                return this.components().rewardsElement()
            }
            generateSharingElement() {
                return this.components().sharingElement()
            }
            generateStatsElement() {
                return this.components().statsElement()
            }
            generateReferralHubElements() {
                if (P()) {
                    let e = (r,n)=>{
                        let a = document.createElement("div");
                        a.className = "sl-widget-body sl-referral-hub-element",
                        a.appendChild(n),
                        r.replaceChildren(a)
                    }
                    ;
                    document.querySelectorAll(`.sparkloop-rewards-element[data-campaign-id=${this.referral_hub.campaign_id}]`).forEach(r=>{
                        e(r, this.generateRewardsElement())
                    }
                    ),
                    document.querySelectorAll(`.sparkloop-sharing-element[data-campaign-id=${this.referral_hub.campaign_id}]`).forEach(r=>{
                        e(r, this.generateSharingElement())
                    }
                    ),
                    document.querySelectorAll(`.sparkloop-stats-element[data-campaign-id=${this.referral_hub.campaign_id}]`).forEach(r=>{
                        e(r, this.generateStatsElement())
                    }
                    )
                }
            }
            async validateAndHydrateSubscriber(e) {
                try {
                    await new K().upsert({
                        subscriber: e,
                        campaign: this.referral_hub.campaign_id
                    }),
                    this.loadReferralHubWidget(),
                    this.generateReferralHubElements()
                } catch (r) {
                    H("subscriber-not-loaded"),
                    console.log(`Subscriber not loaded ${r}`)
                }
            }
            loadDefaultStyles() {
                Nt(),
                Ae("default")
            }
            loadReferralHubStyles() {
                Ae("referral_hub"),
                document.documentElement.style.setProperty("--sl-widgets-referral-hub-primary-color", this.referral_hub.styling.colors.primary),
                document.documentElement.style.setProperty("--sl-widgets-referral-hub-secondary-color", this.referral_hub.styling.colors.secondary),
                document.documentElement.style.setProperty("--sl-widgets-referral-hub-headers-color", this.referral_hub.styling.colors.headers),
                ze("referral_hub", this.referral_hub.styling.custom_css)
            }
        }
        ;
        var Oe = class {
            constructor() {
                this.config = O(),
                this.signup_email = "signup@sparkloop.co"
            }
            timeoutTime() {
                return E("timeout") ? parseInt(E("timeout")) : 15e3
            }
            async run() {
                if (X()) {
                    let e;
                    if (ue())
                        q("[Step 1 of 3]  Referral testing process initiated", "\u23F1 checking for a valid signup form on the page"),
                        this.verifyReferralTracking();
                    else
                        try {
                            let r = E("SLVerifyInstall");
                            if (xe())
                                e = await Wt({
                                    campaign_id: r
                                });
                            else if (j()) {
                                if (console.log("upscribe settings", Te(r)),
                                Te(r) == null)
                                    throw "Upscribe settings not found";
                                e = await zt(r)
                            } else
                                Ke() && (e = await qt(r));
                            console.log("script verified successfully", e),
                            q("[Step 1 of 3] Script found on page", "Your SparkLoop tracking script is correctly installed on this page.<br/><br/>\u{1F449} let's make sure SparkLoop can identify your email signup form(s)."),
                            this.verifyReferralTracking()
                        } catch (r) {
                            console.error("script verification failed", r),
                            ct("Script verification failed", "Please reload the page and try again.")
                        }
                }
            }
            fetchForms() {
                return document.querySelectorAll(this.config.form_selector || "form")
            }
            verifyReferralTracking() {
                setTimeout(()=>{
                    this.fetchForms().length ? this.verifyForm() : $t(this.fetchForms()) ? Ce("Gravity form detected", "SparkLoop has detected a broken Gravity form on this page. <a href='https://help.sparkloop.app/en/articles/5855767-installing-the-tracking-script-on-wordpress#h_f004b7693e' target='_blank'>See instructions</a> on how to fix it") : (Ce("We can't detect a valid form on this page", "SparkLoop will try for another 15 seconds.<br/><br/>\u{1F449} if the form is inside a popup, try opening it (make the form appear on the page)"),
                    setTimeout(()=>{
                        this.fetchForms().length ? this.verifyForm() : ct("Bad news \u{1F61E}", `SparkLoop couldn't detect a valid form on this page.

If you get this error but the form is visible on the page, it's possible that the form is inside an iFrame or otherwise incompatible with our SparkLoop tracking script.

\u{1F449} contact our support team (support@sparkloop.app) to find a solution.`)
                    }
                    , this.timeoutTime()))
                }
                , 1500)
            }
            verifyForm() {
                ue() ? q("[Step 2 of 3] Make a test referral", `\u{1F449} Subscribe to this publication via the opt-in form on the page, using the email address <strong>${this.signup_email}</strong><br/><br/>Then wait up to 10 seconds for a success message to be shown.`) : q("[Step 2 of 3] Valid form found", `SparkLoop has detected a valid email signup form on this page.

Now we need to check that our tracking script can track signups correctly via your form.<br/><br/><strong>\u{1F449} fill out and submit your form using the email address ${this.signup_email}</strong>`),
                new se().track(),
                setTimeout(()=>{
                    window.SL.visitor.email || (ue() ? Ce("Signup not yet detected", `We haven't been able to detect a valid referral yet.<br/><br/>If you haven't already followed the instructions in Step #2 (above), do so now.<br/><br/>If you have already subscribed with ${this.signup_email} and are seeing this message, it means referral tracking is broken for this publication. You should contact us via support@sparkloop.app and <strong>do not recommend</strong> this publication until the issue has been fixed.`) : Ce("Signup not yet detected", `SparkLoop hasn't been able to detect a valid signup yet.

\u{1F449} if you haven't submitted the form yet using ${this.signup_email}, please do so now.

If you have submitted the email signup form correctly, it's likely there's an error in the form which prevents us from tracking referrals correctly.

In this case, please contact our support team (support@sparkloop.app) and we'll help you find an easy solution!`))
                }
                , this.timeoutTime())
            }
        }
        ;
        var Tt = Dt(Hr());
        var xt = class {
            constructor(e) {
                this.config = e
            }
            widgets(e) {
                let r = new ye;
                return r.fetchReferralHubSettings(e),
                r.loadReferralHubStyles(),
                r
            }
            async upscribe(e, r) {
                try {
                    await new K().fetch({
                        subscriberId: r.trim()
                    });
                    let a = new oe;
                    return a.fetchSettings(e),
                    a.loadStyles(),
                    a.generateWidget()
                } catch (n) {
                    console.error(n)
                }
            }
            async upscribePopup(e, r) {
                try {
                    B({
                        email: r.trim()
                    });
                    let n = await Xe(de());
                    P(n.subscriber),
                    new oe().load(e)
                } catch (n) {
                    console.error(n)
                }
            }
            generate = {
                rewardsElement: e=>this.widgets(e).generateRewardsElement(),
                sharingElement: e=>this.widgets(e).generateSharingElement(),
                statsElement: e=>this.widgets(e).generateStatsElement(),
                formWidget: e=>this.widgets(e).generateFormWidget(),
                hubWidget: e=>this.widgets(e).generateHubWidget(),
                upscribeWidget: (e,r)=>this.upscribe(e, r),
                upscribePopup: (e,r)=>this.upscribePopup(e, r)
            };
            reset(e) {
                this.config = (0,
                Tt.default)(e, window.SLConfig)
            }
            trackSubscriber(e) {
                e ? (B({
                    email: e.trim()
                }),
                new se().captureSubscriber()) : console.error("Email can't be blank.")
            }
            async getSubscriber(e, r=null) {
                try {
                    let a = await new K().fetch({
                        subscriberId: e.trim(),
                        campaign: r
                    });
                    return Promise.resolve(a)
                } catch (n) {
                    return console.log(n),
                    Promise.reject(n)
                }
            }
            async run() {
                H("ready"),
                N() && console.log("DEBUG MODE IS ON"),
                Ut(),
                await new Pe().profile(),
                new Oe().run(),
                new se().track();
                try {
                    await new K().fetch()
                } catch (c) {
                    H("subscriber-not-loaded"),
                }
                new ye().load()
            }
        }
          , qa = (t,e=null)=>{
            if (!t.active)
                return console.warn("Sparkloop is disabled because the account is not active."),
                !1;
            let r = (0,
            Tt.default)(e || window.SL || {}, t);
            if (window.SLConfig = t,
            r.disabled)
                return console.warn("SparkLoop has been manually disabled."),
                !1;
            r.test_mode && console.warn("SparkLoop is running in test mode."),
            console.log("\u{1F64C} SparkLoop is loaded, time to rock'n'roll!"),
            console.log("Looking to grow your newsletter? Check out https://sparkloop.app/console");
            let n = new xt(r);
            window.SL = n,
            n.run()
        }
        ;
        {
            let t = ()=>{
                setTimeout(()=>{
                    qa(window.SLConfig)
                }
                , window.sparkloop_delay || 800)
            }
            ;
            document.readyState !== "loading" ? t() : (document.addEventListener("DOMContentLoaded", ()=>t()),
            document.addEventListener("turbo:load", ()=>t()))
        }
    }
    )();
    /*! js-cookie v3.0.1 | MIT */

}
)();
